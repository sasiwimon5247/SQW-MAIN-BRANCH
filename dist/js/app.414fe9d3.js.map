{"version":3,"file":"js/app.414fe9d3.js","mappings":"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","sources":["webpack://sqw/./src/App.vue","webpack://sqw/./src/firebase.js","webpack://sqw/./src/components/LoginBar.vue","webpack://sqw/./src/components/LoginBar.vue?b109","webpack://sqw/./src/app-script.js","webpack://sqw/./src/App.vue?7ccd","webpack://sqw/./src/main.js","webpack://sqw/webpack/bootstrap","webpack://sqw/webpack/runtime/chunk loaded","webpack://sqw/webpack/runtime/compat get default export","webpack://sqw/webpack/runtime/define property getters","webpack://sqw/webpack/runtime/global","webpack://sqw/webpack/runtime/hasOwnProperty shorthand","webpack://sqw/webpack/runtime/jsonp chunk loading","webpack://sqw/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <header class=\"app-header\">\n      <h1>SQW</h1>\n      <LoginBar />\n\n      <RouterView v-if=\"false\" />\n    </header>\n\n    <nav class=\"navbar\">\n      <!-- Map Controls Section -->\n      <div class=\"control-section\">\n        <div\n          style=\"\n            margin-top: 8px;\n            background: #fff1;\n            padding: 8px;\n            border-radius: 8px;\n          \"\n        >\n          <button @click=\"addBangkokOverlay()\"> . 2556</button>\n          <button @click=\"addBangkokOverlayDaft()\">\n             . 2570 ()\n          </button>\n          <button @click=\"clearBangkokOverlay()\"></button>\n\n          <label style=\"display: block; font-size: 12px; opacity: 0.8\"\n            >Opacity ( .)</label\n          >\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.05\"\n            :value=\"kmlOpacity\"\n            @input=\"setBangkokOverlayOpacity($event.target.value)\"\n          />\n          <span style=\"font-size: 12px\">{{ kmlOpacity.toFixed(2) }}</span>\n        </div>\n\n        <label class=\"checkbox-label\">\n          <input type=\"checkbox\" v-model=\"dolEnabled\" @change=\"onToggleDol\" />\n          <span class=\"checkmark\">{{ dolEnabled ? \"\" : \"\" }}</span>\n          \n        </label>\n        <div class=\"opacity-control\">\n          <label>Opacity</label>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            v-model=\"opacity\"\n            class=\"slider\"\n            @input=\"onChangeDolOpacity\"\n          />\n          <span class=\"opacity-value\">{{ opacity }}</span>\n        </div>\n        <!-- <div class=\"button-group\">\n          <button class=\"btn btn-primary\" @click=\"centerBangkok\">\n            Center: Bangkok\n          </button>\n          <button class=\"btn btn-secondary\" @click=\"reloadAPI\">\n            Reload API\n          </button>\n          <div\n            class=\"button-group\"\n            style=\"display: flex; gap: 8px; align-items: center\"\n          >\n          \n            <button\n              class=\"btn btn-primary\"\n              @click=\"loadKmlFromUrl('/kml/Test-Bom3.kml')\"\n            >\n              Load .kml\n            </button>\n          </div>\n        </div> -->\n      </div>\n\n      <!-- Navigation Buttons -->\n      <div class=\"flex-container\">\n        <div class=\"dashboard land-plots\">\n          <span class=\"dashboard-number\"\n            >{{ dashboard.plots.toLocaleString() }}\n            <span class=\"highlight\"></span></span\n          >\n          <div class=\"dashboard-label\"></div>\n        </div>\n        <div class=\"dashboard area\">\n          <span class=\"dashboard-number\"\n            >{{ fmt2(dashboard.areaRai)\n            }}<span class=\"highlight\"> </span></span\n          >\n          <div class=\"dashboard-label\"></div>\n        </div>\n\n        <!-- <div class=\"dashboard owners\">\n          <span class=\"dashboard-number\"\n            >{{ dashboard.owners.toLocaleString()\n            }}<span class=\"highlight\"> </span></span\n          >\n          <div class=\"dashboard-label\"></div>\n        </div> -->\n      </div>\n\n      <div class=\"flex-container\">\n        <!-- <div class=\"dashboard area\">\n          <span class=\"dashboard-number\"\n            >{{ fmt2(dashboard.areaRai)\n            }}<span class=\"highlight\"> </span></span\n          >\n          <div class=\"dashboard-label\"></div>\n        </div> -->\n\n        <div class=\"dashboard value\">\n          <span class=\"dashboard-number\">{{\n            fmt(dashboard.totalValueMillion)\n          }}</span>\n          <div class=\"dashboard-label\">\n            <span class=\"highlight\"></span>\n          </div>\n          <div class=\"dashboard-label\"></div>\n        </div>\n      </div>\n\n      <!-- Action Buttons -->\n      <div class=\"action-buttons\">\n        <button class=\"btn btn-info\" @click=\"startDrawing\">\n          \n        </button>\n        <button class=\"btn btn-success\" @click=\"finishDrawing\">Finish</button>\n        <button class=\"btn btn-danger\" @click=\"clearDrawing\">Clear</button>\n      </div>\n\n      <!-- Form Section -->\n      <div class=\"form-section\">\n        <h3 @click=\"isFormOpen = !isFormOpen\" style=\"cursor: pointer\">\n           ()\n          <span v-if=\"isFormOpen\"></span>\n          <span v-else></span>\n        </h3>\n\n        <transition name=\"fade\">\n          <div v-show=\"isFormOpen\">\n            <div class=\"form-subtitle\"></div>\n            <div class=\"form-subtitle\"></div>\n            <div\n              class=\"form-row\"\n              style=\"display: flex; gap: 10px; flex-wrap: nowrap\"\n            >\n              <!-- :  (.) -->\n              <div style=\"flex: 1; max-width: 50%\">\n                <label class=\"form-group\"> (.)</label>\n                <input\n                  type=\"text\"\n                  inputmode=\"decimal\"\n                  v-model=\"landData.size\"\n                  @input=\"\n                    landData.size = sanitizeDecimal($event.target.value);\n                    syncFromSize();\n                    if (landData.price) syncPriceFromPerSqw();\n                  \"\n                  @blur=\"\n                    landData.size = formatLandSize(landData.size);\n                    syncFromSize();\n                  \"\n                  class=\"form-input text-center\"\n                  placeholder=\"0\"\n                />\n              </div>\n\n              <!-- :  ( /  / ) -->\n              <div style=\"flex: 1; max-width: 50%\">\n                <label class=\"form-group\"> (//)</label>\n                <div style=\"display: flex; gap: 5px\">\n                  <input\n                    class=\"form-input text-center\"\n                    style=\"width: 33.33%\"\n                    inputmode=\"numeric\"\n                    v-model=\"raiModel\"\n                    @input=\"onRNWInput()\"\n                    @blur=\"normalizeRNW()\"\n                    placeholder=\"0\"\n                  />\n                  <input\n                    class=\"form-input text-center\"\n                    style=\"width: 33.33%\"\n                    inputmode=\"numeric\"\n                    v-model=\"nganModel\"\n                    @input=\"onRNWInput()\"\n                    @blur=\"normalizeRNW()\"\n                    placeholder=\"0\"\n                  />\n                  <input\n                    class=\"form-input text-center\"\n                    style=\"width: 33.33%\"\n                    inputmode=\"decimal\"\n                    v-model=\"wahModel\"\n                    @input=\"\n                      wahModel = sanitizeDecimal($event.target.value);\n                      onRNWInput();\n                    \"\n                    @blur=\"\n                      wahModel = formatLandSize(wahModel);\n                      normalizeRNW();\n                    \"\n                    placeholder=\"0\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div></div>\n\n            <div class=\"form-group\" style=\"display: flex; gap: 10px\">\n              <div class=\"form-group\">\n                <label class=\"form-group\"> (M)</label>\n                <input\n                  type=\"text\"\n                  inputmode=\"numeric\"\n                  :value=\"formatNumber(landData.width)\"\n                  @input=\"landData.width = unformatNumber($event.target.value)\"\n                  class=\"form-input\"\n                  placeholder=\"0\"\n                />\n              </div>\n\n              <div class=\"form-group\">\n                <label class=\"form-group\"> (M)</label>\n                <input\n                  type=\"text\"\n                  inputmode=\"numeric\"\n                  :value=\"formatNumber(landData.road)\"\n                  @input=\"landData.road = unformatNumber($event.target.value)\"\n                  class=\"form-input\"\n                  placeholder=\"0\"\n                />\n              </div>\n            </div>\n\n            <div class=\"form-group\" style=\"display: flex; gap: 10px\">\n              <!--  -->\n              <div>\n                <label class=\"form-group\"></label>\n                <input\n                  type=\"text\"\n                  inputmode=\"decimal\"\n                  v-model=\"landData.price\"\n                  @input=\"\n                    landData.price = sanitizeDecimal(landData.price);\n                    syncPriceFromPerSqw();\n                  \"\n                  @blur=\"landData.price = formatPrice(landData.price)\"\n                  class=\"form-input text-center\"\n                  placeholder=\"0\"\n                />\n              </div>\n\n              <!--  -->\n              <div>\n                <label class=\"form-group\"></label>\n                <input\n                  type=\"text\"\n                  inputmode=\"decimal\"\n                  v-model=\"landData.totalPrice\"\n                  @input=\"\n                    landData.totalPrice = sanitizeDecimal(landData.totalPrice);\n                    syncPerSqwFromTotal();\n                  \"\n                  @blur=\"landData.totalPrice = formatPrice(landData.totalPrice)\"\n                  class=\"form-input text-center\"\n                  placeholder=\"0\"\n                />\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-group\"></label>\n              <input\n                type=\"text\"\n                v-model=\"landData.owner\"\n                placeholder=\"\"\n                class=\"form-input\"\n                :disabled=\"!!(landData.agent && landData.agent.trim())\"\n              />\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-group\"></label>\n              <input\n                type=\"text\"\n                v-model=\"landData.agent\"\n                placeholder=\"\"\n                class=\"form-input\"\n                :disabled=\"!!(landData.owner && landData.owner.trim())\"\n              />\n            </div>\n            <div class=\"form-group\" style=\"display: flex; gap: 10px\">\n              <div class=\"form-group\">\n                <label class=\"form-group\"></label>\n                <input\n                  type=\"text\"\n                  v-model=\"landData.phone\"\n                  placeholder=\"08x-xxx-xxxx\"\n                  class=\"form-input\"\n                />\n              </div>\n\n              <div class=\"form-group\">\n                <label class=\"form-group\">LINE ID</label>\n                <input\n                  type=\"text\"\n                  v-model=\"landData.lineId\"\n                  placeholder=\"@lineid  lineid\"\n                  class=\"form-input\"\n                />\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label class=\"form-group\"></label>\n              <input\n                type=\"text\"\n                v-model=\"landData.landFrame\"\n                placeholder=\"\"\n                class=\"form-input\"\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label class=\"form-group\">/</label>\n              <input\n                type=\"text\"\n                v-model=\"landData.deedInformation\"\n                placeholder=\"/\"\n                class=\"form-input\"\n              />\n            </div>\n\n            <button\n              style=\"margin-top: 30px\"\n              class=\"btn btn-primary btn-full\"\n              @click=\"saveLandData\"\n            >\n              \n            </button>\n          </div>\n        </transition>\n\n        <div class=\"section-divider\"></div>\n\n        <!--  -->\n        <h3 @click=\"isListOpen = !isListOpen\" style=\"cursor: pointer\">\n          \n          <span v-if=\"isListOpen\"></span>\n          <span v-else></span>\n        </h3>\n\n        <transition name=\"fade\">\n          <div v-show=\"isListOpen\">\n            <div class=\"form-subtitle\">\n               {{ savedLands.length }} \n            </div>\n\n            <div class=\"land-list\" v-if=\"savedLands.length > 0\">\n              <div\n                v-for=\"(land, index) in savedLands\"\n                :key=\"index\"\n                class=\"land-item\"\n              >\n                <div class=\"land-owner\" @click=\"focusLand(land)\">\n                  {{ land.owner || land.agent + \" ()\" || \"\" }}\n                </div>\n                <div class=\"land-details\">\n                  {{ formatNumber(land.size) }} .\n                </div>\n                <button\n                  style=\"\n                    margin-top: 6px;\n                    padding: 6px 10px;\n                    background: #e11d48;\n                    color: #fff;\n                    border: 0;\n                    border-radius: 6px;\n                  \"\n                  @click=\"deleteLandItem(land.id)\"\n                >\n                  \n                </button>\n              </div>\n            </div>\n            <div v-else class=\"no-data\"></div>\n          </div>\n        </transition>\n      </div>\n    </nav>\n\n    <main class=\"main-content\">\n      <aside class=\"map-container\">\n        <div id=\"map\" style=\"width: 100%; height: 100%\"></div>\n\n        <!-- Map Control Buttons -->\n        <div class=\"map-controls\">\n          <!-- Search Button -->\n          <button\n            class=\"control-btn search-btn\"\n            @click=\"toggleSearch\"\n            title=\"Search\"\n          >\n            <svg\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n            >\n              <circle cx=\"11\" cy=\"11\" r=\"8\" />\n              <path d=\"m21 21-4.35-4.35\" />\n            </svg>\n          </button>\n\n          <!-- View My Property Button -->\n          <!-- <button\n            class=\"control-btn property-btn\"\n            @click=\"viewMyProperty\"\n            title=\"View My Property\"\n          >\n            <svg\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n            >\n              <path\n                d=\"M9 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-4\"\n              />\n              <polyline points=\"9,11 12,8 15,11\" />\n            </svg>\n          </button> -->\n\n          <!-- Filters Button -->\n          <button\n            class=\"control-btn filter-btn\"\n            @click=\"toggleFilters\"\n            title=\"Filters\"\n          >\n            <svg\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n            >\n              <polygon points=\"22,3 2,3 10,12.46 10,19 14,21 14,12.46\" />\n            </svg>\n          </button>\n\n          <!-- Layers Button -->\n          <!-- <button\n            class=\"control-btn layers-btn\"\n            @click=\"toggleLayers\"\n            title=\"Layers\"\n          >\n            <svg\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n            >\n              <polygon points=\"12,2 2,7 12,12 22,7\" />\n              <polyline points=\"2,17 12,22 22,17\" />\n              <polyline points=\"2,12 12,17 22,12\" />\n            </svg>\n          </button> -->\n\n          <!-- P2P Chat Button -->\n          <button\n            class=\"control-btn p2p-btn\"\n            :class=\"{ 'has-notification': hasNewMessage }\"\n            @click=\"toggleP2P\"\n            title=\"P2P Chat\"\n          >\n            <svg\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n            >\n              <path\n                d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n              />\n            </svg>\n            <span v-if=\"unreadCount > 0\" class=\"notification-badge\">{{\n              unreadCount\n            }}</span>\n          </button>\n        </div>\n\n        <!-- Search Panel -->\n        <div class=\"search-panel\" v-show=\"showSearch\">\n          <div class=\"panel-header\">\n            <h3></h3>\n            <button @click=\"showSearch = false\" class=\"close-btn\"></button>\n          </div>\n          <input\n            type=\"text\"\n            v-model=\"searchQuery\"\n            placeholder=\"  13.7563, 100.5018 ( GPS)\"\n            class=\"search-input\"\n          />\n\n          <button @click=\"performSearch\" class=\"btn btn-primary\"></button>\n\n          <button\n            @click=\"locateByGPS\"\n            class=\"btn btn-outline-secondary\"\n            style=\"margin-left: 8px\"\n          >\n             (GPS)\n          </button>\n        </div>\n\n        <!-- Filters Panel -->\n        <div class=\"filters-panel\" v-show=\"showFilters\">\n          <div class=\"panel-header\">\n            <h3></h3>\n            <button @click=\"showFilters = false\" class=\"close-btn\"></button>\n          </div>\n          <div class=\"filter-group\">\n            <label></label>\n            <!-- :  v-model  filters.roadWidth -->\n            <select v-model=\"filters.roadWidth\" class=\"form-select\">\n              <option value=\"\"></option>\n              <option value=\"lt6\"> 6 </option>\n              <option value=\"6-9.99\"> 69.99 </option>\n              <option value=\"ge10\"> 10 </option>\n              <option value=\"ge18\"> 18 </option>\n              <option value=\"ge30\">30 </option>\n            </select>\n          </div>\n          <div class=\"form-group\" style=\"display: flex; gap: 10px\">\n            <div class=\"filter-group\">\n              <label> (.)</label>\n              <div class=\"price-range\">\n                <input\n                  type=\"text\"\n                  :value=\"formatNumber(filters.areaMin)\"\n                  @input=\"filters.areaMin = unformatNumber($event.target.value)\"\n                  placeholder=\"\"\n                  class=\"price-input\"\n                  style=\"width: 50%\"\n                />\n                <input\n                  type=\"text\"\n                  :value=\"formatNumber(filters.areaMax)\"\n                  @input=\"filters.areaMax = unformatNumber($event.target.value)\"\n                  placeholder=\"\"\n                  class=\"price-input\"\n                  style=\"width: 50%\"\n                />\n              </div>\n            </div>\n            <div class=\"filter-group\">\n              <label> ()</label>\n              <div class=\"price-range\">\n                <input\n                  type=\"text\"\n                  :value=\"formatNumber(filters.areaMinRai)\"\n                  @input=\"\n                    filters.areaMinRai = unformatNumber($event.target.value)\n                  \"\n                  placeholder=\"\"\n                  class=\"price-input\"\n                  style=\"width: 50%\"\n                />\n                <input\n                  type=\"text\"\n                  :value=\"formatNumber(filters.areaMaxRai)\"\n                  @input=\"\n                    filters.areaMaxRai = unformatNumber($event.target.value)\n                  \"\n                  placeholder=\"\"\n                  class=\"price-input\"\n                  style=\"width: 50%\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"filter-group\">\n            <label> ( : .)</label>\n            <div class=\"price-range\" style=\"display: flex; gap: 10px\">\n              <input\n                type=\"text\"\n                :value=\"formatNumber(filters.priceMin)\"\n                @input=\"filters.priceMin = unformatNumber($event.target.value)\"\n                placeholder=\"\"\n                class=\"price-input\"\n                style=\"width: 50%\"\n              />\n              <input\n                type=\"text\"\n                :value=\"formatNumber(filters.priceMax)\"\n                @input=\"filters.priceMax = unformatNumber($event.target.value)\"\n                placeholder=\"\"\n                class=\"price-input\"\n                style=\"width: 50%\"\n              />\n            </div>\n          </div>\n          <div class=\"filter-group\">\n            <label> ()</label>\n            <div class=\"price-range\" style=\"display: flex; gap: 10px\">\n              <input\n                type=\"text\"\n                :value=\"formatNumber(filters.totalPriceMin)\"\n                @input=\"\n                  filters.totalPriceMin = unformatNumber($event.target.value)\n                \"\n                placeholder=\"\"\n                class=\"price-input\"\n                style=\"width: 50%\"\n              />\n              <input\n                type=\"text\"\n                :value=\"formatNumber(filters.totalPriceMax)\"\n                @input=\"\n                  filters.totalPriceMax = unformatNumber($event.target.value)\n                \"\n                placeholder=\"\"\n                class=\"price-input\"\n                style=\"width: 50%\"\n              />\n            </div>\n          </div>\n          <div class=\"filter-group\">\n            <label> ()</label>\n            <div class=\"price-range\" style=\"display: flex; gap: 10px\">\n              <input\n                type=\"text\"\n                :value=\"formatNumber(filters.frontMin)\"\n                @input=\"filters.frontMin = unformatNumber($event.target.value)\"\n                placeholder=\"\"\n                class=\"price-input\"\n                style=\"width: 50%\"\n              />\n              <input\n                type=\"text\"\n                :value=\"formatNumber(filters.frontMax)\"\n                @input=\"filters.frontMax = unformatNumber($event.target.value)\"\n                placeholder=\"\"\n                class=\"price-input\"\n                style=\"width: 50%\"\n              />\n            </div>\n          </div>\n\n          <div class=\"flex gap-2\">\n            <button class=\"btn btn-primary\" @click=\"applyFilters\">\n              \n            </button>\n            <button class=\"btn btn-secondary\" @click=\"resetFilters\">\n              \n            </button>\n          </div>\n        </div>\n\n        <!-- Layers Panel -->\n        <div class=\"layers-panel\" v-show=\"showLayers\">\n          <div class=\"panel-header\">\n            <h3>Layers</h3>\n            <button @click=\"showLayers = false\" class=\"close-btn\"></button>\n          </div>\n          <div\n            class=\"layer-item\"\n            v-for=\"layer in availableLayers\"\n            :key=\"layer.id\"\n          >\n            <label class=\"checkbox-label\">\n              <input type=\"checkbox\" v-model=\"layer.visible\" />\n              <span class=\"checkmark\"></span>\n              {{ layer.name }}\n            </label>\n          </div>\n        </div>\n\n        <!-- P2P Chat Panel -->\n        <div class=\"chat-popup\" v-show=\"showChat\">\n          <div class=\"chat-header\">\n            <div class=\"chat-title\">\n              <h3>P2P Chat</h3>\n              <div class=\"text-xs opacity-70\">\n                :\n                {{\n                  userProfile.name ||\n                  \"User-\" + (currentUserId || \"\").slice(0, 6)\n                }}\n              </div>\n            </div>\n            <button @click=\"showChat = false\" class=\"close-btn\"></button>\n          </div>\n\n          <!--  () -->\n          <div class=\"user-profile\" v-if=\"!userProfile.name\">\n            <input\n              type=\"text\"\n              v-model=\"tempUserName\"\n              placeholder=\"\"\n              class=\"profile-input\"\n              @keyup.enter=\"setUserProfile\"\n            />\n            <button @click=\"setUserProfile\" class=\"btn btn-sm btn-primary\">\n              \n            </button>\n          </div>\n\n          <!--   (rooms) -->\n          <div v-if=\"chatMode === 'rooms'\" class=\"rooms-pane\">\n            <div class=\"rooms-head\">\n              <div class=\"rooms-title\"> ():</div>\n              <span class=\"badge\">{{ onlineUsers.length }}</span>\n            </div>\n\n            <div v-if=\"onlineUsers.length === 0\" class=\"empty-state\">\n              \n            </div>\n\n            <div v-else class=\"user-list\">\n              <button\n                v-for=\"u in onlineUsers\"\n                :key=\"u.uid\"\n                class=\"user-pill\"\n                @click=\"selectUserToChat(u)\"\n                :title=\"u.name || 'User-' + u.uid.slice(0, 6)\"\n              >\n                <span class=\"dot online\"></span>\n                <span class=\"name\">{{\n                  u.name || \"User-\" + u.uid.slice(0, 6)\n                }}</span>\n              </button>\n            </div>\n\n            <!--  ''  -->\n            <!--\n    <div class=\"rooms-subtitle\" v-if=\"chatRooms.length\"></div>\n    <div class=\"room-list\" v-if=\"chatRooms.length\">\n      <button\n        v-for=\"r in chatRooms\"\n        :key=\"r.roomId\"\n        class=\"room-item\"\n        @click=\"selectChatRoom(r)\"\n      >\n        <div class=\"room-name\">{{ r.otherName }}</div>\n        <span v-if=\"r.unreadCount\" class=\"badge warn\">{{ r.unreadCount }}</span>\n      </button>\n    </div>\n    -->\n          </div>\n\n          <!--   (chat) -->\n          <div v-else class=\"chat-pane\">\n            <div class=\"chat-subheader\">\n              <button class=\"btn btn-xs\" @click=\"backToRooms\"> </button>\n              <div class=\"peer-name\">\n                {{\n                  selectedUser?.name ||\n                  \"User-\" + (selectedUser?.uid || \"\").slice(0, 6)\n                }}\n              </div>\n            </div>\n\n            <div class=\"chat-body\" ref=\"chatBody\">\n              <div\n                v-for=\"msg in chatMessages\"\n                :key=\"msg.id\"\n                class=\"chat-msg\"\n                :class=\"{\n                  me: msg.fromUid === currentUserId,\n                  system: msg.type === 'system',\n                }\"\n              >\n                <div class=\"bubble\">\n                  <div class=\"meta\" v-if=\"!msg.type\">\n                    {{ msg.fromName }}\n                    <span class=\"timestamp\">{{\n                      formatTime(msg.createdAt)\n                    }}</span>\n                  </div>\n                  <div class=\"text\">{{ msg.text }}</div>\n                </div>\n              </div>\n\n              <div v-if=\"chatMessages.length === 0\" class=\"no-messages\">\n                !\n              </div>\n            </div>\n\n            <div class=\"typing-indicator\" v-if=\"showTypingIndicator\">\n              <span class=\"typing-dots\"\n                ><span></span><span></span><span></span\n              ></span>\n              \n            </div>\n\n            <div class=\"chat-input-row\">\n              <input\n                type=\"text\"\n                v-model=\"chatInput\"\n                placeholder=\"...\"\n                class=\"chat-input\"\n                @keyup.enter=\"sendMessage\"\n                @input=\"handleTyping\"\n                :disabled=\"!userProfile.name || !selectedUser\"\n              />\n              <button\n                @click=\"sendMessage\"\n                class=\"btn btn-sm btn-primary send-btn\"\n                :disabled=\"\n                  !chatInput.trim() || !userProfile.name || !selectedUser\n                \"\n              >\n                \n              </button>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </main>\n  </div>\n</template>\n\n<script src=\"./app-script.js\"></script>\n\n<style>\n.rooms-head {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin: 0.25rem 0 0.5rem;\n}\n\n.rooms-title {\n  font-weight: 600;\n}\n\n.badge {\n  background: #0ea5e9;\n  color: #fff;\n  border-radius: 999px;\n  padding: 0 0.5rem;\n  font-size: 0.8rem;\n}\n\n.badge.warn {\n  background: #ef4444;\n}\n\n.user-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n\n.user-pill {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.375rem 0.6rem;\n  border-radius: 999px;\n  background: rgba(255, 255, 255, 0.06);\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  cursor: pointer;\n}\n\n.user-pill:hover {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.user-pill .dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n}\n\n.user-pill .dot.online {\n  background: #22c55e;\n}\n\n.user-pill .name {\n  white-space: nowrap;\n}\n\n.chat-subheader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 0.5rem;\n  gap: 0.5rem;\n}\n\n.chat-subheader .peer-name {\n  font-weight: 600;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.room-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-top: 0.25rem;\n}\n\n.room-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.4rem 0.6rem;\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  border-radius: 0.5rem;\n  background: rgba(255, 255, 255, 0.04);\n  cursor: pointer;\n}\n\n.room-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.room-name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n@import \"./styles/base.css\";\n@import \"./styles/header.css\";\n@import \"./styles/navbar.css\";\n@import \"./styles/forms.css\";\n@import \"./styles/buttons.css\";\n@import \"./styles/controls.css\";\n@import \"./styles/sections.css\";\n@import \"./styles/map.css\";\n@import \"./styles/panels.css\";\n@import \"./styles/responsive.css\";\n@import \"./styles/chat.css\";\n</style>\n","// src/firebase.js\r\n// Firebase v10+ modular SDK\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n  updateProfile,\r\n  signInAnonymously, //  ensureAnonAuth \r\n} from \"firebase/auth\";\r\nimport {\r\n  getDatabase,\r\n  ref,\r\n  push,\r\n  onValue,\r\n  serverTimestamp,\r\n  get,\r\n  update,\r\n  onDisconnect,\r\n  remove,\r\n} from \"firebase/database\";\r\n\r\n\r\n/* ========================\r\n   Firebase Config \r\n   ======================== */\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBDdOt1ajdsBOu7tVdcWOm3c_A61yvdytk\",\r\n  authDomain: \"chattestproject-42024.firebaseapp.com\",\r\n  projectId: \"chattestproject-42024\",\r\n  storageBucket: \"chattestproject-42024.firebasestorage.app\",\r\n  messagingSenderId: \"828044311671\",\r\n  appId: \"1:828044311671:web:c6fe41d320716830591a72\",\r\n  measurementId: \"G-6H2BLTSKLW\",\r\n  databaseURL:\r\n    \"https://chattestproject-42024-default-rtdb.asia-southeast1.firebasedatabase.app/\",\r\n};\r\n\r\n// --- Initialize ---\r\nconst app = initializeApp(firebaseConfig);\r\nlet analytics;\r\ntry {\r\n  analytics = getAnalytics(app);\r\n} catch (_) {\r\n  // analytics  ( http)\r\n}\r\n\r\nconst auth = getAuth(app);\r\nconst db = getDatabase(app);\r\n\r\n/* ========================\r\n   AUTH\r\n   ======================== */\r\nexport function onAuthChanged(cb) {\r\n  return onAuthStateChanged(auth, cb);\r\n}\r\n\r\nexport async function loginWithGoogle() {\r\n  const provider = new GoogleAuthProvider();\r\n  const cred = await signInWithPopup(auth, provider);\r\n  //  presence  UI  login   updateOnlineStatus()\r\n  return cred.user;\r\n}\r\n\r\nexport async function loginWithEmail(email, password) {\r\n  const cred = await signInWithEmailAndPassword(auth, email, password);\r\n  return cred.user;\r\n}\r\n\r\nexport async function registerWithEmail(email, password, displayName = \"\") {\r\n  const cred = await createUserWithEmailAndPassword(auth, email, password);\r\n  if (displayName) {\r\n    await updateProfile(cred.user, { displayName });\r\n  }\r\n  return cred.user;\r\n}\r\n\r\n//  (  import )\r\nexport function ensureAnonAuth() {\r\n  return new Promise((resolve, reject) => {\r\n    onAuthStateChanged(auth, async (user) => {\r\n      try {\r\n        if (!user) {\r\n          await signInAnonymously(auth);\r\n          return;\r\n        }\r\n        resolve(user.uid);\r\n      } catch (e) {\r\n        reject(e);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n//  +  presence\r\nexport async function logout() {\r\n  const u = auth.currentUser;\r\n  if (u) {\r\n    await clearOnlineStatus(u.uid);\r\n  }\r\n  await signOut(auth);\r\n}\r\n\r\n/* ========================\r\n   PRESENCE (/)\r\n   ======================== */\r\n//  ( login )\r\nexport async function updateOnlineStatus(uid, payload = {}) {\r\n  if (!uid) return;\r\n  const sref = ref(db, `presence/${uid}`);\r\n  await update(sref, {\r\n    uid,\r\n    online: true,\r\n    lastSeen: serverTimestamp(),\r\n    ...payload, // { name: \"...\" } \r\n  });\r\n\r\n  // /  mark offline \r\n  onDisconnect(sref).update({\r\n    online: false,\r\n    lastSeen: serverTimestamp(),\r\n  });\r\n}\r\n\r\n//    mark offline\r\nexport async function clearOnlineStatus(uid) {\r\n  if (!uid) return;\r\n  const sref = ref(db, `presence/${uid}`);\r\n  await update(sref, {\r\n    online: false,\r\n    lastSeen: serverTimestamp(),\r\n  });\r\n}\r\n\r\n//  realtime\r\nexport function subscribeOnlineUsers(cb) {\r\n  const pRef = ref(db, \"presence\");\r\n  return onValue(pRef, (snap) => {\r\n    const obj = snap.val() || {};\r\n    const now = Date.now();\r\n    const STALE_MS = 60 * 1000; //  60s  stale\r\n\r\n    const list = Object.values(obj).filter((u) => {\r\n      const last =\r\n        typeof u.lastSeen === \"number\" ? u.lastSeen : 0;\r\n      const fresh = last ? now - last < STALE_MS : true;\r\n      return u && u.online === true && fresh;\r\n    });\r\n\r\n    cb(list);\r\n  });\r\n}\r\n\r\n/* ========================\r\n   P2P CHAT (1-1)\r\n   : privateChats/{userA}/{userB}/messages/{id}\r\n   ======================== */\r\n\r\n//  1-1 ()\r\nexport async function sendChatMessage(text, fromUid, fromName = \"\", toUid) {\r\n  if (!toUid) throw new Error(\"sendChatMessage:  toUid\");\r\n\r\n  const a = fromUid;\r\n  const b = toUid;\r\n\r\n  const myPath = ref(db, `privateChats/${a}/${b}/messages`);\r\n  const theirPath = ref(db, `privateChats/${b}/${a}/messages`);\r\n\r\n  const payload = {\r\n    text: String(text || \"\"),\r\n    fromUid: a,\r\n    fromName: fromName || `User-${a.slice(0, 6)}`,\r\n    createdAt: serverTimestamp(),\r\n    readBy: { [a]: true }, // \r\n  };\r\n\r\n  //  ()\r\n  await push(myPath, payload);\r\n  await push(theirPath, payload);\r\n}\r\n\r\n//  1-1 ()\r\nexport function subscribeChat(myUid, otherUid, cb) {\r\n  if (!myUid || !otherUid) return () => { };\r\n  const msgsRef = ref(db, `privateChats/${myUid}/${otherUid}/messages`);\r\n  return onValue(msgsRef, (snap) => {\r\n    const data = snap.val() || {};\r\n    const list = Object.entries(data).map(([id, v]) => ({ id, ...v }));\r\n    list.sort((a, b) => (a.createdAt || 0) - (b.createdAt || 0));\r\n    cb(list);\r\n  });\r\n}\r\n\r\n//    \r\nexport async function markMessagesAsRead(myUid, otherUid) {\r\n  if (!myUid || !otherUid) return;\r\n  const base = `privateChats/${myUid}/${otherUid}/messages`;\r\n  const msgsSnap = await get(ref(db, base));\r\n  const msgs = msgsSnap.val() || {};\r\n  const updates = {};\r\n  Object.keys(msgs).forEach((id) => {\r\n    updates[`${base}/${id}/readBy/${myUid}`] = true;\r\n  });\r\n  if (Object.keys(updates).length) await update(ref(db), updates);\r\n}\r\n\r\n//  () =  presence  candidate\r\nexport function subscribeP2PChatRooms(myUid, cb) {\r\n  const pRef = ref(db, \"presence\");\r\n  return onValue(pRef, (snap) => {\r\n    const obj = snap.val() || {};\r\n    const list = Object.values(obj)\r\n      .filter((u) => u.uid && u.uid !== myUid)\r\n      .map((u) => ({\r\n        roomId: `${myUid}_${u.uid}`,\r\n        otherUid: u.uid,\r\n        otherName: u.name || `User-${u.uid.slice(0, 6)}`,\r\n        unreadCount: 0, //   users/{uid}/inbox/{other} \r\n        lastText: \"\",\r\n        lastAt: 0,\r\n      }));\r\n    cb(list);\r\n  });\r\n}\r\n\r\n// ========================\r\n// LANDS ()\r\n// ========================\r\n\r\nexport async function saveLand(uid, landData) {\r\n  if (!uid) throw new Error(\"saveLand: need uid\");\r\n  const now = serverTimestamp();\r\n\r\n  const payload = {\r\n    ...landData,\r\n    ownerUid: uid,\r\n    updatedAt: now,\r\n  };\r\n\r\n  if (landData.id) {\r\n    await update(ref(db, `lands/${uid}/${landData.id}`), payload);\r\n    await update(ref(db, `landsPublic/${landData.id}`), payload);\r\n    return landData.id;\r\n  } else {\r\n    const newRef = push(ref(db, `lands/${uid}`));\r\n    const id = newRef.key;\r\n    const newPayload = {\r\n      ...payload,\r\n      id,\r\n      createdAt: now,\r\n    };\r\n    await update(newRef, newPayload);\r\n    await update(ref(db, `landsPublic/${id}`), newPayload);\r\n    return id;\r\n  }\r\n}\r\n\r\nexport async function deleteLand(uid, landId) {\r\n  if (!uid || !landId) throw new Error(\"deleteLand: need uid & landId\");\r\n  await remove(ref(db, `lands/${uid}/${landId}`));\r\n  await remove(ref(db, `landsPublic/${landId}`));\r\n}\r\n\r\n// subscribe \r\nexport function subscribeLandsAll(cb) {\r\n  const landsRef = ref(db, `landsPublic`);\r\n  return onValue(landsRef, (snap) => {\r\n    const obj = snap.val() || {};\r\n    const list = Object.entries(obj).map(([id, v]) => ({ id, ...v }));\r\n    cb(list);\r\n  });\r\n}\r\n\r\n\r\nexport function subscribeLands(uid, cb) {\r\n  if (!uid) return () => { };\r\n  const landsRef = ref(db, `lands/${uid}`);\r\n  return onValue(landsRef, (snap) => {\r\n    const obj = snap.val() || {};\r\n    const list = Object.entries(obj).map(([id, v]) => ({ id, ...v }));\r\n    cb(list);\r\n  });\r\n}\r\n\r\nexport { app, analytics, auth, db };\r\n","<!-- src/components/LoginBar.vue -->\r\n<template>\r\n  <header\r\n    class=\"login-bar\"\r\n    style=\"\r\n      display: flex;\r\n      gap: 0.75rem;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 0.75rem 1rem;\r\n    \"\r\n  >\r\n    <div v-if=\"user\">\r\n      <span\r\n        >:\r\n        <strong>{{ user.displayName || user.email || shortUid }}</strong>\r\n      </span>\r\n      <button @click=\"doLogout\" style=\"margin-left: 0.5rem\"></button>\r\n    </div>\r\n\r\n    <div\r\n      v-else\r\n      style=\"display: flex; gap: 0.5rem; align-items: center; flex-wrap: wrap\"\r\n    >\r\n      <input v-model=\"email\" type=\"email\" placeholder=\"\" />\r\n      <input v-model=\"password\" type=\"password\" placeholder=\"\" />\r\n      <button @click=\"doLoginEmail\"></button>\r\n      <button @click=\"doRegister\"></button>\r\n      <button class=\"google-btn\" @click=\"doLoginGoogle\">\r\n        <svg class=\"google-icon\" viewBox=\"0 0 24 24\">\r\n          <path\r\n            fill=\"#4285F4\"\r\n            d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n          />\r\n          <path\r\n            fill=\"#34A853\"\r\n            d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n          />\r\n          <path\r\n            fill=\"#FBBC05\"\r\n            d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n          />\r\n          <path\r\n            fill=\"#EA4335\"\r\n            d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <span v-if=\"error\" style=\"color: #b91c1c\">{{ error }}</span>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onBeforeUnmount } from \"vue\";\r\nimport {\r\n  onAuthChanged,\r\n  loginWithGoogle,\r\n  loginWithEmail,\r\n  registerWithEmail,\r\n  logout as doSignOut,\r\n  updateOnlineStatus,\r\n  clearOnlineStatus,\r\n} from \"../firebase\";\r\n\r\nconst user = ref(null);\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst error = ref(\"\");\r\n\r\nlet unsub = null;\r\nonMounted(() => {\r\n  unsub = onAuthChanged(async (u) => {\r\n    user.value = u || null;\r\n    //  \r\n    if (u) {\r\n      const display =\r\n        u.displayName ||\r\n        (u.email ? u.email.split(\"@\")[0] : `User-${u.uid.slice(0, 6)}`);\r\n      await updateOnlineStatus(u.uid, { name: display });\r\n    }\r\n  });\r\n});\r\nonBeforeUnmount(() => {\r\n  if (unsub) unsub();\r\n});\r\n\r\nconst shortUid = computed(() =>\r\n  user.value?.uid ? user.value.uid.slice(0, 6) : \"\"\r\n);\r\n\r\nasync function doLoginGoogle() {\r\n  error.value = \"\";\r\n  try {\r\n    await loginWithGoogle();\r\n  } catch (e) {\r\n    error.value = tidy(e);\r\n  }\r\n}\r\nasync function doLoginEmail() {\r\n  error.value = \"\";\r\n  try {\r\n    await loginWithEmail(email.value, password.value);\r\n  } catch (e) {\r\n    error.value = tidy(e);\r\n  }\r\n}\r\nasync function doRegister() {\r\n  error.value = \"\";\r\n  try {\r\n    await registerWithEmail(email.value, password.value);\r\n  } catch (e) {\r\n    error.value = tidy(e);\r\n  }\r\n}\r\nasync function doLogout() {\r\n  error.value = \"\";\r\n  try {\r\n    if (user.value?.uid) await clearOnlineStatus(user.value.uid);\r\n    await doSignOut();\r\n  } catch (e) {\r\n    error.value = tidy(e);\r\n  }\r\n}\r\nfunction tidy(e) {\r\n  return (e?.message || String(e)).replace(\"Firebase: \", \"\");\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-bar input {\r\n  padding: 0.4rem 0.6rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 0.375rem;\r\n}\r\n\r\n.login-bar button {\r\n  padding: 0.4rem 0.6rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 0.375rem;\r\n  background: #f9fafb;\r\n  cursor: pointer;\r\n}\r\n\r\n.login-bar button:hover {\r\n  background: #f3f4f6;\r\n}\r\n\r\n.google-btn {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 12px 24px;\r\n  background: #fff;\r\n  border: 1px solid #dadce0;\r\n  border-radius: 6px;\r\n  color: #3c4043;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.google-btn:hover {\r\n  box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3),\r\n    0 1px 3px 1px rgba(60, 64, 67, 0.15);\r\n}\r\n\r\n.google-icon {\r\n  width: 18px;\r\n  height: 18px;\r\n}\r\n</style>\r\n","import script from \"./LoginBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginBar.vue?vue&type=style&index=0&id=1aa7ccf6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1aa7ccf6\"]])\n\nexport default __exports__","// app-script.js - Enhanced version with marker management\nimport {\n  sendChatMessage,\n  subscribeChat,\n  onAuthChanged,\n  subscribeOnlineUsers,\n  subscribeP2PChatRooms,\n  updateOnlineStatus,\n  markMessagesAsRead,\n  saveLand,\n  deleteLand,\n  subscribeLandsAll,\n} from \"./firebase\";\n\nimport LoginBar from \"./components/LoginBar.vue\";\n/* eslint-disable no-empty */\nexport default {\n  name: \"App\",\n  components: { LoginBar },\n  data() {\n    return {\n      raiModel: \"\",\n      nganModel: \"\",\n      wahModel: \"\",\n      _isSyncingSize: false,\n\n      _isSyncingPrice: false,\n      _lastPriceSource: 'perSqw', // 'perSqw' | 'total'\n\n\n      isFormOpen: true,\n      isListOpen: true,\n      editingLandId: null,\n\n      snapPoints: [],  // points used for snapping\n\n      mapMarkers: [], // Store actual marker objects\n      showMarkerInfo: false,\n      selectedMarker: null,\n      markerInfoPosition: { x: 0, y: 0 },\n      map: null,\n      selectedMapType: \"hybrid\",\n      dolEnabled: true,\n      opacity: 0.5,\n      activeTab: \"dashboard\",\n      snapEnabled: true,\n      wmsDol: null,\n      leafletWmsDol: null,\n      snapSettings: {\n        red: 180,\n        green: 90,\n        blue: 90,\n      },\n      landData: {\n        size: \"\",\n        width: \"\",\n        owner: \"\",\n        agent: \"\",\n        phone: \"\",\n        lineId: \"\",\n        price: \"\",\n        totalPrice: \"\",\n        road: \"\",\n        landFrame: \"\",\n        deedInformation: \"\",\n      },\n\n      savedLands: [],\n      filteredLands: [],\n\n      currentLocation: {\n        lat: 13.7563,\n        lon: 100.5234,\n      },\n      currentZoom: 12,\n      showSearch: false,\n      showFilters: false,\n      showLayers: false,\n      searchQuery: \"\",\n      filters: {\n        landType: \"\",\n        roadWidth: \"\",\n        areaMinRai: \"\",\n        areaMin: \"\",\n        areaMax: \"\",\n        areaMaxRai: \"\",\n        priceMin: \"\",\n        priceMax: \"\",\n        totalPriceMin: \"\",\n        totalPriceMax: \"\",\n        frontMin: \"\",\n        frontMax: \"\",\n      },\n\n      availableLayers: [\n        { id: 1, name: \"\", visible: true },\n        { id: 2, name: \"\", visible: false },\n        { id: 3, name: \"\", visible: false },\n      ],\n      // Chat related data\n      showChat: false,\n      chatMode: \"rooms\",\n      chatMessages: [],\n      chatRooms: [], // / ()\n      chatInput: \"\",\n      currentUserId: null,\n      userProfile: {\n        name: \"\",\n        joinedAt: null,\n      },\n      tempUserName: \"\",\n      hasNewMessage: false,\n      unreadCount: 0,\n      lastSeenMessageId: null,\n      onlineUsers: [],\n      selectedUser: null,\n      currentChatRoom: null,\n      showTypingIndicator: false,\n      typingTimer: null,\n      chatUnsubscribe: null,\n      authUnsubscribe: null,\n      myMarker: null,\n      locating: false,\n      geolocError: null,\n      onlineStatusInterval: null,\n      chatRoomsUnsubscribe: null,\n      p2pChatUnsubscribe: null,\n      onlineUsersUnsubscribe: null,\n      drawMode: false,\n      drawPoints: [],        // [{lon,lat}, ...]\n      drawPolyline: null,    // \n      drawPolygon: null,     //  Finish\n      landOverlays: [],      //  polygon  Firebase\n      landsUnsub: null,\n      showDisclaimer: true,\n      kmlState: null,        //  kmlToLongdoMap (overlays, bound)\n      kmlOverlays: [],       // \n      kmlFeatures: [],\n      bkkRect: null,\n      kmlOpacity: 0.6,   // 01\n\n    };\n  },\n\n  async mounted() {\n    this.initMap();\n    this.authUnsubscribe = onAuthChanged((u) => {\n      //    state/ subscribe \n      if (!u) {\n        this.resetP2PState();\n        this.currentUserId = null;\n        this.userProfile = { name: \"\", joinedAt: null };\n        return;\n      }\n      const ack = localStorage.getItem(\"ackDisclaimer\");\n      if (ack === \"yes\") this.showDisclaimer = false;\n\n      //   \n      const switched = this.currentUserId && this.currentUserId !== u.uid;\n      if (switched) this.resetP2PState();\n\n      this.currentUserId = u.uid;\n\n      //  ()\n      if (!this.userProfile.name) {\n        this.userProfile.name =\n          u.displayName || (u.email ? u.email.split(\"@\")[0] : \"\");\n      }\n\n      //  presence  \n      this.updateUserOnlineStatus();\n\n      //  subscribe    P2P\n      this.initP2PFacade();\n\n      // === subscribe lands  ===\n      this.landsUnsub = subscribeLandsAll((list) => {\n        this.savedLands = Array.isArray(list) ? list : [];\n        this.renderLandsOnMap();\n      });\n    });\n  },\n\n  beforeUnmount() {\n    if (this.onlineUsersUnsubscribe) this.onlineUsersUnsubscribe();\n    if (this.p2pChatUnsubscribe) this.p2pChatUnsubscribe();\n    if (this.chatRoomsUnsubscribe) this.chatRoomsUnsubscribe();\n    if (this.onlineStatusInterval) clearInterval(this.onlineStatusInterval);\n    if (this.typingTimer) clearTimeout(this.typingTimer);\n    if (this.authUnsubscribe) this.authUnsubscribe();\n  },\n\n  computed: {\n    visibleMarkers() {\n      const q = (this.searchQuery || \"\").trim().toLowerCase();\n\n      const toNum = (v) => (v === \"\" || v == null ? null : Number(String(v).replace(/,/g, \"\")));\n      const areaFromDetail = (detail) => {\n        if (!detail) return null;\n        const m = String(detail).match(/([\\d,.]+)/);\n        return m ? Number(m[1].replace(/,/g, \"\")) : null;\n      };\n\n      // ---  ---\n      const toSqw = (sqw, rai) => {\n        const s = toNum(sqw);\n        const r = toNum(rai);\n        return (s == null && r == null) ? null : (s || 0) + (r || 0) * 400;\n      };\n      const aMin = toSqw(this.filters.areaMin, this.filters.areaMinRai);\n      const aMax = toSqw(this.filters.areaMax, this.filters.areaMaxRai);\n      const pMin = toNum(this.filters.priceMin);\n      const pMax = toNum(this.filters.priceMax);\n      const tpMin = toNum(this.filters.allPriceMin);\n      const tpMax = toNum(this.filters.allPriceMax);\n      const fMin = toNum(this.filters.frontMin);\n      const fMax = toNum(this.filters.frontMax);\n\n      //  dropdown :  filters.roadWidth   filters.landType ( UI )\n      const roadSel = (\n        this.filters.roadWidth ||\n        this.filters.landType ||\n        \"\"\n      ).trim();\n\n      // map  dropdown -> \n      const roadRange = (sel) => {\n        switch (sel) {\n          case \"lt6\":\n            return [null, 6];\n          case \"6-9.99\":\n            return [6, 9.99];\n          case \"10-11.99\":\n            return [10, 11.99];\n          case \"12-17.99\":\n            return [12, 17.99];\n          case \"18-29.99\":\n            return [18, 29.99];\n          case \"ge30\":\n            return [30, null];\n          default:\n            return [null, null];\n        }\n      };\n      const [rwMin, rwMax] = roadRange(roadSel);\n\n      return (this.markers || []).filter((m) => {\n        // \n        const textOK =\n          !q ||\n          m.title?.toLowerCase().includes(q) ||\n          m.detail?.toLowerCase().includes(q);\n\n        //  (.)\n        const area = areaFromDetail(m.detail);\n        const areaOK =\n          (aMin == null || (area != null && area >= aMin)) &&\n          (aMax == null || (area != null && area <= aMax));\n\n        // /. (/.)\n        const ppw = m.pricePerWah != null ? Number(m.pricePerWah) : null;\n        const priceOK =\n          (pMin == null || (ppw != null && ppw >= pMin)) &&\n          (pMax == null || (ppw != null && ppw <= pMax));\n\n        const total =\n          m.totalPrice != null\n            ? Number(m.totalPrice)\n            : (ppw != null && area != null ? ppw * area : null);\n\n        const totalOK =\n          (tpMin == null || (total != null && total >= tpMin)) &&\n          (tpMax == null || (total != null && total <= tpMax));\n\n        //  ()\n        const fg = m.frontage != null ? Number(m.frontage) : null;\n        const frontOK =\n          (fMin == null || (fg != null && fg >= fMin)) &&\n          (fMax == null || (fg != null && fg <= fMax));\n\n        //  ()  m.road\n        const road = m.road != null ? Number(m.road) : null;\n        const roadOK =\n          (rwMin == null || (road != null && road >= rwMin)) &&\n          (rwMax == null || (road != null && road <= rwMax));\n\n        return textOK && areaOK && priceOK && totalOK && frontOK && roadOK;\n      });\n    },\n    //   Dashboard ( )\n    dashboard() {\n      const arr = (this.filteredLands?.length ? this.filteredLands : this.savedLands) || [];\n\n      const plots = arr.length;\n\n      //  (fallback: ownerUid > owner > agent)\n      const owners = new Set(\n        arr.map(it => it.ownerUid || (it.owner || '').trim() || (it.agent || '').trim())\n          .filter(Boolean)\n      ).size;\n\n      //  size (.)  area   \"\"\n      const areaSqw = arr.reduce((s, it) => {\n        const v = Number(it.size ?? it.area);\n        return s + (Number.isFinite(v) ? v : 0);\n      }, 0);\n      const areaRai = areaSqw / 400;\n\n      // :  totalPrice   pricePerSqw*size\n      const totalValue = arr.reduce((s, it) => {\n        const tot = Number(it.totalPrice);\n        if (Number.isFinite(tot) && tot > 0) return s + tot;\n        const p = Number(it.pricePerSqw ?? it.price);\n        const sz = Number(it.size ?? it.area);\n        return s + (Number.isFinite(p) && Number.isFinite(sz) ? p * sz : 0);\n      }, 0);\n\n      return {\n        plots,\n        owners,\n        areaRai,\n        totalValue,\n        totalValueMillion: totalValue / 1e6,\n      };\n    },\n  },\n\n  methods: {\n\n    clearSelectedLand() {\n      this.editingLandId = null;\n      this.landData = {\n        size: \"\", width: \"\", road: \"\", price: \"\", totalPrice: \"\",\n        landFrame: \"\", deedInformation: \"\",\n        owner: \"\", agent: \"\", phone: \"\", lineId: \"\", raiModel: \"\", nganModel: \"\", wahModel: \"\",\n      };\n      this.clearDrawing(); //  polygon highlight \n    },\n\n    // ----  formatPrice  ----\n    formatMoney(v) {\n      if (v == null || v === '') return '';\n      const n = this.unformatDecimal(v);\n      if (n == null) return '';\n      return n.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 2 });\n    },\n    formatPrice(v) {           //  @blur=\"formatPrice(...)\"  template \n      return this.formatMoney(v);\n    },\n\n    onPriceTyping(e) {\n      const el = e.target;\n      const clean = this.sanitizeDecimal(el.value); // \n      const num = this.unformatDecimal(clean);\n      if (num == null || isNaN(num)) {\n        this.landData.price = '';\n        return;\n      }\n\n      // \n      this.landData.price = num.toLocaleString(undefined, {\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 2\n      });\n\n      // \n      this.syncPriceFromPerSqw();\n\n      //  caret  ()\n      this.$nextTick(() => {\n        try {\n          const pos = el.value.length;\n          el.setSelectionRange(pos, pos);\n        } catch (_) { }\n      });\n    },\n\n    // ===    ===\n    syncPriceFromPerSqw() {\n      //   \n      const pricePerSqw = parseFloat(this.unformatDecimal(this.landData.price)) || 0;\n      const sizeSqw = parseFloat(this.unformatDecimal(this.landData.size)) || 0;\n      if (sizeSqw > 0 && pricePerSqw >= 0) {\n        const total = pricePerSqw * sizeSqw;\n        this.landData.totalPrice = total.toLocaleString(undefined, {\n          minimumFractionDigits: 0,\n          maximumFractionDigits: 2\n        });\n      } else {\n        this.landData.totalPrice = \"\";\n      }\n    },\n\n    syncPerSqwFromTotal() {\n      //    \n      const totalPrice = parseFloat(this.unformatDecimal(this.landData.totalPrice)) || 0;\n      const sizeSqw = parseFloat(this.unformatDecimal(this.landData.size)) || 0;\n      if (sizeSqw > 0 && totalPrice >= 0) {\n        const perSqw = totalPrice / sizeSqw;\n        this.landData.price = perSqw.toLocaleString(undefined, {\n          minimumFractionDigits: 0,\n          maximumFractionDigits: 2\n        });\n      } else {\n        this.landData.price = \"\";\n      }\n    },\n\n\n    sizeFromRaiNganWah(rai, ngan, wah) {\n      const R = parseInt(String(rai ?? \"\").replace(/,/g, \"\"), 10);\n      const N = parseInt(String(ngan ?? \"\").replace(/,/g, \"\"), 10);\n      const W = parseFloat(String(wah ?? \"\").replace(/,/g, \"\")) || 0;\n      const r = Number.isFinite(R) ? R : 0;\n      const n = Number.isFinite(N) ? N : 0;\n      const w = Number.isFinite(W) ? W : 0;\n      return +(r * 400 + n * 100 + w).toFixed(2); // : .\n    },\n\n    rnwFromSize(sizeSqw) {\n      const s = parseFloat(String(sizeSqw ?? \"\").replace(/,/g, \"\"));\n      if (!Number.isFinite(s) || s < 0) return { rai: \"\", ngan: \"\", wah: \"\" };\n      const rai = Math.floor(s / 400);\n      const rem1 = s - rai * 400;\n      const ngan = Math.floor(rem1 / 100);\n      const wah = +(rem1 - ngan * 100).toFixed(2);\n      return { rai, ngan, wah };\n    },\n\n    syncFromSize() {\n      if (this._isSyncingSize) return;\n      this._isSyncingSize = true;\n      try {\n        const { rai, ngan, wah } = this.rnwFromSize(this.landData.size);\n        this.raiModel = (rai === \"\" ? \"\" : String(rai));\n        this.nganModel = (ngan === \"\" ? \"\" : String(ngan));\n        this.wahModel = (wah === \"\" ? \"\" : (this.fmt2 ? this.fmt2(wah) : wah.toFixed(2)));\n      } finally {\n        this._isSyncingSize = false;\n      }\n    },\n\n    onRNWInput() {\n      if (this._isSyncingSize) return;\n      this._isSyncingSize = true;\n      try {\n        const sqw = this.sizeFromRaiNganWah(this.raiModel, this.nganModel, this.wahModel);\n        //   2  ( format )\n        this.landData.size = Number.isInteger(sqw)\n          ? sqw.toLocaleString()\n          : sqw.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\n      } finally {\n        this._isSyncingSize = false;\n      }\n    },\n\n    normalizeRNW() {\n      // :  03,  099.99 \n      let r = parseInt(this.raiModel || 0, 10); r = Number.isFinite(r) ? r : 0;\n      let n = parseInt(this.nganModel || 0, 10); n = Number.isFinite(n) ? n : 0;\n      let w = parseFloat(this.wahModel || 0); w = Number.isFinite(w) ? w : 0;\n\n      if (w >= 100) { n += Math.floor(w / 100); w = w % 100; }\n      if (n >= 4) { r += Math.floor(n / 4); n = n % 4; }\n\n      if (w < 0) w = 0; if (n < 0) n = 0; if (r < 0) r = 0;\n\n      this.raiModel = String(r);\n      this.nganModel = String(n);\n      this.wahModel = (this.fmt2 ? this.fmt2(w) : w.toFixed(2));\n\n      this.onRNWInput(); //  size  normalize \n    },\n\n\n    makeGroundKmlString({\n      west = 100.20,\n      south = 13.40,\n      east = 101.05,\n      north = 14.10,\n      opacity = 0.7\n    } = {}) {\n      const aa = Math.round(opacity * 255).toString(16).padStart(2, '0');\n      const color = `${aa}ffffff`;\n      return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n      <kml xmlns=\"http://www.opengis.net/kml/2.2\">\n        <Document>\n          <GroundOverlay>\n            <Icon><href>/img/bangkok_56.png</href></Icon>\n            <LatLonBox>\n              <north>${north}</north>\n              <south>${south}</south>\n              <east>${east}</east>\n              <west>${west}</west>\n            </LatLonBox>\n            <color>${color}</color>\n          </GroundOverlay>\n        </Document>\n      </kml>`;\n    },\n\n    addBangkokOverlayDaft() {\n      if (!this.map) return;\n\n      if (this.bkkRect) {\n        try { this.map.Overlays.remove(this.bkkRect); } catch (e) { }\n        this.bkkRect = null;\n      }\n\n      //  . (  )\n      const west = 100.325, north = 13.9548, east = 100.9412, south = 13.484;\n\n      // -\n      const tl = { lon: west, lat: north };\n      const br = { lon: east, lat: south };\n\n      this.bkkRect = new window.longdo.Rectangle(\n        tl, br,\n        {\n          texture: '/img/bangkok_draft.png',     // \n          textureAlpha: this.kmlOpacity,      //  01\n          lineWidth: 0,\n          weight: window.longdo.OverlayWeight.Top\n        }\n      );\n\n      this.map.Overlays.add(this.bkkRect);\n      /* try {\n        this.map.bound([tl, br]);                // \n      } catch (e) {\n        const center = { lon: (west + east) / 2, lat: (south + north) / 2 };\n        this.map.location(center, true);\n        this.map.zoom(11, true);\n      }//  */\n    },\n\n    addBangkokOverlay() {\n      if (!this.map) return;\n\n      if (this.bkkRect) {\n        try { this.map.Overlays.remove(this.bkkRect); } catch (e) { }\n        this.bkkRect = null;\n      }\n\n      //  . (  )\n      const west = 100.327, north = 13.956, east = 100.9402, south = 13.4843;\n\n      // -\n      const tl = { lon: west, lat: north };\n      const br = { lon: east, lat: south };\n\n      this.bkkRect = new window.longdo.Rectangle(\n        tl, br,\n        {\n          texture: '/img/bangkok_56.png',     // \n          textureAlpha: this.kmlOpacity,      //  01\n          lineWidth: 0,\n          weight: window.longdo.OverlayWeight.Top\n        }\n      );\n\n      this.map.Overlays.add(this.bkkRect);\n      /* try {\n        this.map.bound([tl, br]);                // \n      } catch (e) {\n        const center = { lon: (west + east) / 2, lat: (south + north) / 2 };\n        this.map.location(center, true);\n        this.map.zoom(11, true);\n      }//  */\n    },\n\n    setBangkokOverlayOpacity(val) {\n      this.kmlOpacity = +val;\n      this.addBangkokOverlay();   //  alpha\n    },\n\n    clearBangkokOverlay() {\n      if (!this.map || !this.bkkRect) return;\n      this.map.Overlays.remove(this.bkkRect);\n      this.bkkRect = null;\n    },\n\n\n    loadBangkokOverlay() {\n      if (!this.map) return;\n      // \n      this.clearKml();\n      //  KML  opacity \n      const kml = this.makeGroundKmlString({ opacity: this.kmlOpacity });\n      const result = window.kmlToLongdoMap(this.map, kml, {\n        //  geometryOptions/markerOptions  GroundOverlay\n      });\n      this.kmlState = result;\n      this.kmlOverlays = (result && result.overlays) || [];\n      if (result?.bound) this.map.bound(result.bound);\n    },\n\n\n    acceptDisclaimer() {\n      this.showDisclaimer = false;\n      localStorage.setItem(\"ackDisclaimer\", \"yes\");\n    },\n    closeDisclaimerOnce() {\n      //  ()\n      this.showDisclaimer = false;\n    },\n\n    resetP2PState() {\n      // \n      if (this.onlineUsersUnsubscribe) {\n        this.onlineUsersUnsubscribe();\n        this.onlineUsersUnsubscribe = null;\n      }\n      if (this.p2pChatUnsubscribe) {\n        this.p2pChatUnsubscribe();\n        this.p2pChatUnsubscribe = null;\n      }\n      if (this.chatRoomsUnsubscribe) {\n        this.chatRoomsUnsubscribe();\n        this.chatRoomsUnsubscribe = null;\n      }\n      if (this.onlineStatusInterval) {\n        clearInterval(this.onlineStatusInterval);\n        this.onlineStatusInterval = null;\n      }\n\n      //  state \n      this.onlineUsers = [];\n      this.chatRooms = [];\n      this.selectedUser = null;\n      this.currentChatRoom = null;\n      this.chatMessages = [];\n      this.showTypingIndicator = false;\n      this.hasNewMessage = false;\n      this.unreadCount = 0;\n      this.lastSeenMessageId = null;\n    },\n    initDolWms_Longdo() {\n      try {\n        this.map?.Event?.bind?.(\"ready\", () => {\n          const lyr = new window.longdo.Layer(\"dol\", {\n            type: window.longdo.LayerType.WMS,\n            url: \"https://ms.longdo.com/mapproxy/service\",\n            format: \"image/png\",\n            srs: \"EPSG:3857\",\n            opacity: this.opacity ?? 0.85,\n          });\n\n          console.log(\n            \"[DOL WMS] constructed is longdo.Layer?\",\n            lyr instanceof window.longdo.Layer,\n            lyr\n          );\n\n          this.wmsDol = lyr;\n          if (this.dolEnabled) this.map.Layers.add(this.wmsDol);\n        });\n      } catch (e) {\n        console.debug(\"initDolWms_Longdo error:\", e);\n      }\n    },\n\n    onChangeBaseMap(type) {\n      if (!this.map || !window.longdo?.Layers) return;\n      const key = (type || \"\").toUpperCase();\n      const resolve = (v) => (typeof v === \"function\" ? v() : v);\n\n      const B = window.longdo.Layers;\n      const dict = {\n        NORMAL: B.NORMAL,\n        HYBRID: B.HYBRID,\n        SATELLITE: B.SATELLITE,\n        GRAY: B.GRAY,\n      };\n      const target = resolve(dict[key] || B.HYBRID);\n\n      console.log(\n        \"setBase =>\",\n        key,\n        \"type=\",\n        typeof dict[key],\n        \"target=\",\n        target\n      );\n      try {\n        if (this.map.Layers?.setBase) this.map.Layers.setBase(target);\n        else if (this.map.Layers?.base) this.map.Layers.base(target);\n      } catch (e) {\n        console.error(\"setBase error:\", e, \"key=\", key, \"target=\", target);\n      }\n    },\n\n    applyDolVisibility() {\n      try {\n        if (!this.map?.Layers?.add || !this.wmsDol) return;\n\n        this.wmsDol.opacity = this.opacity ?? 0.85;\n\n        if (this.dolEnabled) {\n          this.map.Layers.remove(this.wmsDol);\n          this.map.Layers.add(this.wmsDol);\n        } else {\n          this.map.Layers.remove(this.wmsDol);\n        }\n      } catch (e) {\n        console.debug(\"applyDolVisibility error:\", e);\n      }\n    },\n\n    onToggleDol() {\n      this.applyDolVisibility();\n    },\n\n    onChangeDolOpacity() {\n      this.applyDolVisibility();\n    },\n\n    async deleteLandItem(landId) {\n      if (!landId || !this.currentUserId) return;\n      if (!confirm(\"?\")) return;\n      try {\n        await deleteLand(this.currentUserId, landId);\n        // savedLands  subscribeLands  renderLandsOnMap() \n      } catch (e) {\n        console.error(\"deleteLand failed:\", e);\n        alert(\"\");\n      }\n    },\n\n    renderLandsOnMap() {\n      if (!this.map) return;\n\n      //  overlay \n      try { this.landOverlays.forEach(o => this.map.Overlays.remove(o)); }\n      catch (e) { console.debug(\"renderLandsOnMap: remove overlays failed:\", e); }\n      this.landOverlays = [];\n\n      //   \n      const lands =\n        (this.filteredLands && this.filteredLands.length\n          ? this.filteredLands\n          : this.savedLands) || [];\n\n      //  +  polygon \n      lands.forEach((land) => {\n        // --- marker (centroid  fallback  location) ---\n        let markerLoc = null;\n        try {\n          if (land.geometry?.type === \"Polygon\" && Array.isArray(land.geometry.coordinates)) {\n            const pts = land.geometry.coordinates.map(([lon, lat]) => ({ lon, lat }));\n            if (pts.length >= 3) {\n              let area = 0, cx = 0, cy = 0;\n              for (let i = 0; i < pts.length; i++) {\n                const a = pts[i], b = pts[(i + 1) % pts.length];\n                const f = (a.lon * b.lat - b.lon * a.lat);\n                area += f; cx += (a.lon + b.lon) * f; cy += (a.lat + b.lat) * f;\n              }\n              area *= 0.5;\n              markerLoc = area ? { lon: cx / (6 * area), lat: cy / (6 * area) } : pts[0];\n            }\n          }\n        } catch (e) { }\n\n        if (!markerLoc && land.location && typeof land.location.lon === \"number\" && typeof land.location.lat === \"number\") {\n          markerLoc = land.location;\n        }\n        if (markerLoc) {\n          const m = new window.longdo.Marker(markerLoc, {\n            title: land.owner || land.agent + \"()\" || \"\",\n            detail: [\n              land.size != null ? `: ${this.fmt2(land.size)} .` : \"\",\n              land.frontage != null ? `: ${this.fmt2(land.frontage)} .` : \"\",\n              land.roadWidth != null ? `: ${this.fmt2(land.roadWidth)} .` : \"\",\n              land.pricePerSqw != null ? `/.: ${this.fmt2(land.pricePerSqw)} .` : \"\",\n              land.totalPrice != null ? `: ${this.fmt2(land.totalPrice)} .` : \"\",\n            ].filter(Boolean).join(\" <br> \"),\n\n            visibleRange: { min: 7, max: 20 },\n            icon: { url: \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'><path d='M12 2C7.58 2 4 5.58 4 10c0 5.25 5.4 10.58 7.2 12.19a1.2 1.2 0 0 0 1.6 0C14.6 20.58 20 15.25 20 10c0-4.42-3.58-8-8-8z' fill='rgba(255,255,255,0.85)' stroke='%239ca3af' stroke-width='1'/><circle cx='12' cy='10' r='3' fill='%239ca3af'/></svg>\", size: { width: 28, height: 28 }, offset: { x: 14, y: 28 } },\n          });\n          m.__land = land;\n          this.map.Overlays.add(m);\n          this.landOverlays.push(m);\n        }\n\n        // --- polygon ---\n        if (land.geometry?.type === \"Polygon\" && Array.isArray(land.geometry.coordinates)) {\n          const pts = land.geometry.coordinates.map(([lon, lat]) => ({ lon, lat }));\n          if (pts.length >= 3) {\n            const poly = new window.longdo.Polygon(pts, {\n              lineWidth: 2,\n              lineColor: 'rgba(255,215,0,0.9)',   // \n              fillColor: 'rgba(255,215,0,0.25)',\n            });\n            poly.__land = land;\n            this.map.Overlays.add(poly);\n            this.landOverlays.push(poly);\n          }\n        }\n      });\n    },\n\n\n    initMap() {\n      if (typeof window.longdo !== \"undefined\") {\n        this.map = new window.longdo.Map({\n          placeholder: document.getElementById(\"map\"),\n          language: \"th\",\n          layer:\n            typeof window.longdo.Layers.HYBRID === \"function\"\n              ? window.longdo.Layers.HYBRID()\n              : window.longdo.Layers.HYBRID,\n        });\n\n        this.map.location(\n          {\n            lon: this.currentLocation.lon,\n            lat: this.currentLocation.lat,\n            includePolygon: false,\n          },\n          true\n        );\n\n        this.map.zoom(this.currentZoom, true);\n        this.selectedMapType = \"hybrid\";\n\n        this.initDolWms_Longdo();\n        this.applyDolVisibility();\n\n        // Add markers after map is ready\n        this.map.Event.bind(\"ready\", () => {\n          console.log(\"Map is ready, adding markers...\");\n          this.addMarkersToMap();\n        });\n\n        // Handle map click to close marker info\n        this.map.Event.bind(\"click\", (ev) => {\n          this.showMarkerInfo = false;\n\n          //     \n          if (!this.drawMode) {\n            this.clearSelectedLand();\n            return;\n          }\n\n          const p = this.getClickLocation(ev);\n          if (!p) return;\n          this.drawPoints.push({ lon: p.lon, lat: p.lat });\n          this.redrawDrawing();\n          try {\n            const dot = new window.longdo.Circle(p, 1, { fillColor: 'rgba(0,0,0,0.7)' });\n            this.map.Overlays.add(dot);\n            setTimeout(() => this.map.Overlays.remove(dot), 500);\n          } catch (e) { }\n        });\n\n\n\n      } else {\n        setTimeout(() => this.initMap(), 500);\n      }\n    },\n\n    //  \n    focusLand(land, zoom = 17) {\n      if (!land || !this.map) return;\n      // /  polygon/\n      this.selectLand(land);\n\n      //  center \n      const c = this.getLandCenter(land);\n      this.centerTo(c.lon, c.lat, zoom);\n    },\n\n    //  (centroid)  marker \n    getLandCenter(land) {\n      // geometry  centroid\n      if (land?.geometry?.type === \"Polygon\" && Array.isArray(land.geometry.coordinates)) {\n        const pts = land.geometry.coordinates.map(([lon, lat]) => ({ lon, lat }));\n        if (pts.length >= 3) {\n          let area = 0, cx = 0, cy = 0;\n          for (let i = 0; i < pts.length; i++) {\n            const a = pts[i], b = pts[(i + 1) % pts.length];\n            const f = (a.lon * b.lat - b.lon * a.lat);\n            area += f; cx += (a.lon + b.lon) * f; cy += (a.lat + b.lat) * f;\n          }\n          area *= 0.5;\n          if (area) return { lon: cx / (6 * area), lat: cy / (6 * area) };\n          return pts[0];\n        }\n      }\n      // fallback  location \n      if (land?.location?.lon != null && land?.location?.lat != null) {\n        return { lon: land.location.lon, lat: land.location.lat };\n      }\n      //   \n      return { lon: this.currentLocation.lon, lat: this.currentLocation.lat };\n    },\n\n    addMarkersToMap() {\n      if (!this.map) return;\n\n      // Clear existing markers first\n      this.clearAllMarkers();\n\n      // Check if markers layer is visible\n      const markersLayer = this.availableLayers.find((l) => l.id === 1);\n      if (!markersLayer || !markersLayer.visible) return;\n\n      // Add each marker to the map\n      this.visibleMarkers.forEach((markerData) => {\n        const marker = new window.longdo.Marker(markerData.location, {\n          title: markerData.title,\n          detail: markerData.detail,\n          icon: markerData.icon || {\n            url: \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'><path d='M12 2C7.58 2 4 5.58 4 10c0 5.25 5.4 10.58 7.2 12.19a1.2 1.2 0 0 0 1.6 0C14.6 20.58 20 15.25 20 10c0-4.42-3.58-8-8-8z' fill='rgba(255,255,255,0.85)' stroke='%239ca3af' stroke-width='1'/><circle cx='12' cy='10' r='3' fill='%239ca3af'/></svg>\",\n            size: { width: 32, height: 32 },\n            offset: { x: 16, y: 32 },\n          },\n          visibleRange: { min: 7, max: 20 },\n          draggable: false,\n          weight: window.longdo.OverlayWeight\n            ? window.longdo.OverlayWeight.Top\n            : null,\n          popup: {\n            html: `<div style=\"padding: 10px;\">\n                                <h4 style=\"margin: 0 0 5px 0; color: #333;\">${markerData.title}</h4>\n                                <p style=\"margin: 0; color: #666; font-size: 14px;\">${markerData.detail}</p>\n                            </div>`,\n          },\n        });\n\n        // Store marker reference with data\n        this.mapMarkers.push({\n          data: markerData,\n          marker: marker,\n        });\n\n        // Add marker to map\n        this.map.Overlays.add(marker);\n      });\n\n      // Bind click event to overlays after adding them\n      if (this.map.Event && this.map.Event.bind) {\n        this.map.Event.bind(\"overlayClick\", (overlay) => {\n          if (overlay && overlay.__land) { this.onLandOverlayClick(overlay.__land, overlay); return; }\n          const markerItem = this.mapMarkers.find(\n            (item) => item.marker === overlay\n          );\n          if (markerItem) {\n            this.onMarkerClick(markerItem.data, overlay);\n          }\n        });\n      }\n    },\n\n    onMarkerClick(markerData) {\n      this.selectedMarker = markerData;\n      this.showMarkerInfo = true;\n\n      // Optional: Center on clicked marker\n      if (markerData.location) {\n        this.map.location(markerData.location, true);\n      }\n\n      console.log(\"Marker clicked:\", markerData);\n    },\n\n    clearAllMarkers() {\n      if (!this.map) return;\n\n      this.mapMarkers.forEach((item) => {\n        this.map.Overlays.remove(item.marker);\n      });\n      this.mapMarkers = [];\n    },\n\n    toggleMarkersLayer() {\n      const markersLayer = this.availableLayers.find((l) => l.id === 1);\n      if (markersLayer) {\n        if (markersLayer.visible) {\n          this.addMarkersToMap();\n        } else {\n          this.clearAllMarkers();\n        }\n      }\n    },\n\n    addNewMarker(location) {\n      const newMarker = {\n        id: this.markers.length + 1,\n        location: location,\n        title: ` ${this.markers.length + 1}`,\n        detail: \"\",\n        icon: {\n          url: \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'><path d='M12 2C7.58 2 4 5.58 4 10c0 5.25 5.4 10.58 7.2 12.19a1.2 1.2 0 0 0 1.6 0C14.6 20.58 20 15.25 20 10c0-4.42-3.58-8-8-8z' fill='rgba(255,255,255,0.85)' stroke='%239ca3af' stroke-width='1'/><circle cx='12' cy='10' r='3' fill='%239ca3af'/></svg>\",\n          size: { width: 32, height: 32 },\n          offset: { x: 16, y: 32 },\n        },\n      };\n\n      this.markers.push(newMarker);\n      this.addMarkersToMap();\n    },\n\n    centerOnMarker(marker) {\n      if (this.map && marker.location) {\n        this.map.location(marker.location, true);\n        this.map.zoom(15, true);\n      }\n    },\n\n    async setUserProfile() {\n      if (!this.tempUserName.trim()) return;\n      this.userProfile.name = this.tempUserName.trim();\n      this.userProfile.joinedAt = Date.now();\n      await this.updateUserOnlineStatus();\n      if (this.currentUserId) this.initP2PFacade(); // \n    },\n\n    async sendMessage() {\n      if (\n        !this.chatInput.trim() ||\n        !this.userProfile.name ||\n        !this.selectedUser\n      )\n        return;\n      try {\n        await sendChatMessage(\n          this.chatInput.trim(),\n          this.currentUserId,\n          this.userProfile.name,\n          this.selectedUser.uid\n        );\n        this.chatInput = \"\";\n      } catch (e) {\n        console.error(\"send P2P failed:\", e);\n        alert(\" \");\n      }\n    },\n\n    handleTyping() {\n      if (this.typingTimer) clearTimeout(this.typingTimer);\n      this.showTypingIndicator = true;\n      this.typingTimer = setTimeout(() => {\n        this.showTypingIndicator = false;\n      }, 1000);\n    },\n\n    formatNumber(value) {\n      if (value == null || value === '') return '';\n      return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    },\n\n    fmt2(n) {\n      if (n == null || n === '') return '';\n      const num = typeof n === 'string' ? parseFloat(n.replace(/,/g, '')) : Number(n);\n      if (!Number.isFinite(num)) return '';\n      return num.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 2 });\n    },\n\n    fmt(n) {\n      if (n == null || n === '') return '';\n      const num = typeof n === 'string' ? parseFloat(n.replace(/,/g, '')) : Number(n);\n      if (!Number.isFinite(num)) return '';\n      return num.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 });\n    },\n\n    unformatNumber(value) {\n      if (!value) return '';\n      return parseInt(value.replace(/,/g, ''), 10);\n    },\n    sanitizeDecimal(s) {\n      //  1  ( .2, 0.  12.34 )\n      if (s == null) return \"\";\n      let str = String(s).replace(/,/g, '').replace(/[^\\d.]/g, '');\n      const firstDot = str.indexOf('.');\n      if (firstDot !== -1) {\n        str = str.slice(0, firstDot + 1) + str.slice(firstDot + 1).replace(/\\./g, '');\n      }\n      return str;\n    },\n\n    unformatDecimal(v) {\n      if (v == null || v === '') return null;\n      const n = parseFloat(String(v).replace(/,/g, ''));\n      return Number.isFinite(n) ? n : null;\n    },\n\n    formatLandSize(value) {\n      if (value == null || value === '') return '';\n      let str = String(value).replace(/,/g, '').trim();\n\n      //   \".2\"   0   \"0.2\"\n      if (str.startsWith('.')) str = '0' + str;\n\n      //  \".\"  \"0.\"  \n      if (str === '.' || str === '0.') return '';\n\n      const num = parseFloat(str);\n      if (!Number.isFinite(num)) return '';\n\n      //   \".0\"  \".00\"  \n      if (str.endsWith('.') || /\\.0+$/.test(str)) {\n        return num.toLocaleString(); // \n      }\n\n      //  \".2\"  \"19.2\"   0  2 \n      if (/^\\d+\\.\\d$/.test(str) || /^0\\.\\d$/.test(str)) {\n        return num.toLocaleString(undefined, {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2,\n        });\n      }\n\n      //   \n      if (Number.isInteger(num)) return num.toLocaleString();\n\n      //  ( 19.25)   2 \n      return num.toLocaleString(undefined, {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      });\n    },\n\n    formatTime(timestamp) {\n      if (!timestamp) return \"\";\n      const date = new Date(timestamp);\n      const now = new Date();\n      const diffInMinutes = Math.floor((now - date) / (1000 * 60));\n\n      if (diffInMinutes < 1) return \"\";\n      if (diffInMinutes < 60) return `${diffInMinutes} `;\n      if (diffInMinutes < 1440)\n        return `${Math.floor(diffInMinutes / 60)} `;\n\n      return date.toLocaleDateString(\"th-TH\", {\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      });\n    },\n\n    scrollToBottom() {\n      if (this.$refs.chatBody)\n        this.$refs.chatBody.scrollTop = this.$refs.chatBody.scrollHeight;\n    },\n\n    toggleP2P() {\n      this.showChat = !this.showChat;\n      if (this.showChat) {\n        this.hasNewMessage = false;\n        this.setChatMode(\"rooms\");\n        this.$nextTick(() => this.scrollToBottom());\n      }\n    },\n    initP2PFacade() {\n      if (!this.currentUserId) return;\n\n      if (this.onlineUsersUnsubscribe) this.onlineUsersUnsubscribe();\n      this.onlineUsersUnsubscribe = subscribeOnlineUsers((users) => {\n        this.onlineUsers = users.filter((u) => u.uid !== this.currentUserId);\n      });\n\n      if (this.chatRoomsUnsubscribe) this.chatRoomsUnsubscribe();\n      this.chatRoomsUnsubscribe = subscribeP2PChatRooms(\n        this.currentUserId,\n        (rooms) => {\n          this.chatRooms = rooms;\n          this.unreadCount = rooms.reduce(\n            (sum, r) => sum + (r.unreadCount || 0),\n            0\n          );\n          this.hasNewMessage = this.unreadCount > 0;\n        }\n      );\n\n      this.updateUserOnlineStatus();\n      if (this.onlineStatusInterval) clearInterval(this.onlineStatusInterval);\n      this.onlineStatusInterval = setInterval(\n        () => this.updateUserOnlineStatus(),\n        30000\n      );\n    },\n    async updateUserOnlineStatus() {\n      if (!this.currentUserId || !this.userProfile.name) return;\n      try {\n        await updateOnlineStatus(this.currentUserId, {\n          name: this.userProfile.name,\n          lastSeen: Date.now(),\n        });\n      } catch (e) {\n        console.error(\"Failed to update online status:\", e);\n      }\n    },\n    setChatMode(mode) {\n      this.chatMode = mode;\n      if (mode === \"rooms\" && this.p2pChatUnsubscribe) {\n        this.p2pChatUnsubscribe();\n        this.p2pChatUnsubscribe = null;\n      }\n    },\n    backToRooms() {\n      this.setChatMode(\"rooms\");\n    },\n    selectUserToChat(user) {\n      this.selectedUser = user;\n      this.chatMode = \"chat\";\n      this.startRoomWith(user.uid);\n    },\n    selectChatRoom(room) {\n      const other = this.onlineUsers.find((u) => u.uid === room.otherUid);\n      if (other) {\n        this.selectUserToChat(other);\n      } else {\n        this.selectedUser = {\n          uid: room.otherUid,\n          name: `User-${room.otherUid.slice(0, 6)}`,\n        };\n        this.chatMode = \"chat\";\n        this.startRoomWith(room.otherUid);\n      }\n    },\n    startRoomWith(otherUid) {\n      if (this.p2pChatUnsubscribe) this.p2pChatUnsubscribe();\n\n      this.p2pChatUnsubscribe = subscribeChat(\n        this.currentUserId,\n        otherUid,\n        (messages) => {\n          this.chatMessages = messages;\n          this.$nextTick(() => this.scrollToBottom());\n          markMessagesAsRead(this.currentUserId, otherUid);\n        }\n      );\n\n      this.currentChatRoom = otherUid;\n    },\n\n    centerBangkok() {\n      if (this.map) {\n        this.map.location(\n          {\n            lon: 100.5234,\n            lat: 13.7563,\n            includePolygon: false,\n          },\n          true\n        );\n        this.currentLocation = { lat: 13.7563, lon: 100.5234 };\n        this.map.zoom(12, true);\n      }\n    },\n\n    reloadAPI() {\n      console.log(\"Reloading API...\");\n      this.initMap();\n    },\n    //  KML  URL\n    async loadKmlFromUrl(url) {\n      if (!this.map) return;\n      if (!url) { alert(' URL  KML'); return; }\n\n      try {\n        //  KML\n        const res = await fetch(url, { cache: 'no-store' });\n        const kmlText = await res.text();\n\n        // \n        this.clearKml();\n\n        //  +  helper ( script  index.html)\n        const result = window.kmlToLongdoMap(this.map, kmlText, {\n          //  geometry  KML \n          geometryOptions: {\n            lineWidth: 2,\n            lineColor: 'rgba(255,215,0,0.95)',\n            fillColor: 'rgba(255,215,0,0.25)',\n          },\n          //  Marker ( KML )\n          markerOptions: {\n            icon: {\n              url: \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'><path d='M12 2C7.58 2 4 5.58 4 10c0 5.25 5.4 10.58 7.2 12.19a1.2 1.2 0 0 0 1.6 0C14.6 20.58 20 15.25 20 10c0-4.42-3.58-8-8-8z' fill='rgba(255,255,255,0.85)' stroke='%239ca3af' stroke-width='1'/><circle cx='12' cy='10' r='3' fill='%239ca3af'/></svg>\",\n              size: { width: 28, height: 28 },\n              offset: { x: 14, y: 28 },\n            },\n            visibleRange: { min: 6, max: 20 },\n          },\n        });\n\n        this.kmlState = result;\n        this.kmlOverlays = (result && Array.isArray(result.overlays)) ? result.overlays : [];\n        this.kmlFeatures = Array.isArray(result?.features) ? result.features : [];\n\n        // zoom \n        if (result?.bound) this.map.bound(result.bound);\n        this.applyKmlFiltersUsingUI();\n\n        //  snap  KML   snap\n        this.updateSnapPoints();\n\n      } catch (e) {\n        console.error('loadKmlFromUrl error:', e);\n        alert(' KML : ' + (e?.message || e));\n      }\n    },\n\n    //  KML \n    clearKml() {\n      if (!this.map) return;\n\n      try {\n        if (this.kmlState?.overlays?.length) {\n          this.kmlState.overlays.forEach(ov => this.map.Overlays.remove(ov));\n        } else if (this.kmlOverlays?.length) {\n          this.kmlOverlays.forEach(ov => this.map.Overlays.remove(ov));\n        }\n      } catch (e) {\n        console.debug('clearKml remove overlays failed:', e);\n      }\n\n      this.kmlState = null;\n      this.kmlOverlays = [];\n    },\n\n    //  .kml \n    async importKmlFile(evt) {\n      // NOTE:  placeholder  \n      //  <input type=\"file\" accept=\".kml\">  event \n      const file = evt?.target?.files?.[0];\n      if (!file) return;\n\n      try {\n        const kmlText = await file.text();\n        this.clearKml();\n\n        const result = window.kmlToLongdoMap(this.map, kmlText, {\n          geometryOptions: {\n            lineWidth: 2,\n            lineColor: 'rgba(0,0,0,0.9)',\n            fillColor: 'rgba(30,144,255,0.25)',\n          },\n          markerOptions: {\n            icon: {\n              url: \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'><path d='M12 2C7.58 2 4 5.58 4 10c0 5.25 5.4 10.58 7.2 12.19a1.2 1.2 0 0 0 1.6 0C14.6 20.58 20 15.25 20 10c0-4.42-3.58-8-8-8z' fill='rgba(255,255,255,0.85)' stroke='%239ca3af' stroke-width='1'/><circle cx='12' cy='10' r='3' fill='%239ca3af'/></svg>\",\n              size: { width: 28, height: 28 },\n              offset: { x: 14, y: 28 },\n            },\n            visibleRange: { min: 6, max: 20 },\n          },\n        });\n\n        this.kmlState = result;\n        this.kmlOverlays = (result && Array.isArray(result.overlays)) ? result.overlays : [];\n        this.kmlFeatures = Array.isArray(result?.features) ? result.features : [];\n        if (result?.bound) this.map.bound(result.bound);\n        this.applyKmlFiltersUsingUI();\n        this.updateSnapPoints();\n      } catch (e) {\n        console.error('importKmlFile error:', e);\n        alert(' KML : ' + (e?.message || e));\n      } finally {\n        //  input \n        try { evt.target.value = ''; } catch (_) { }\n      }\n    },\n\n\n    redrawDrawing() {\n      if (!this.map) return;\n      try { if (this.drawPolyline) this.map.Overlays.remove(this.drawPolyline); }\n      catch (e) { console.debug(\"redraw: rm polyline fail\", e); }\n      try { if (this.drawPolygon) this.map.Overlays.remove(this.drawPolygon); }\n      catch (e) { console.debug(\"redraw: rm polygon fail\", e); }\n\n      if (this.drawPoints.length >= 2) {\n        this.drawPolyline = new window.longdo.Polyline(this.drawPoints, {\n          lineWidth: 3,\n          lineColor: \"rgba(0,0,0,0.6)\",\n        });\n        this.map.Overlays.add(this.drawPolyline);\n      }\n    },\n\n    startDrawing() {\n      this.drawMode = true;\n      this.drawPoints = [];\n      this.redrawDrawing();\n      this.updateSnapPoints();\n      try { document.getElementById('map').style.cursor = 'crosshair'; } catch (e) { }\n    },\n    finishDrawing() {\n      if (!this.map) return;\n      if (this.drawPoints.length < 3) { alert(\" 3 \"); return; }\n      try { if (this.drawPolyline) this.map.Overlays.remove(this.drawPolyline); } catch (e) { }\n      try { if (this.drawPolygon) this.map.Overlays.remove(this.drawPolygon); } catch (e) { }\n      this.drawPolygon = new window.longdo.Polygon(this.drawPoints, {\n        lineWidth: 2, lineColor: \"rgba(30,144,255,0.9)\", fillColor: \"rgba(30,144,255,0.25)\",\n      });\n      this.map.Overlays.add(this.drawPolygon);\n      this.drawMode = false;\n      this.updateSnapPoints();\n      try { document.getElementById('map').style.cursor = 'default'; } catch (e) { }\n    },\n    clearDrawing() {\n      this.drawMode = false;\n      this.drawPoints = [];\n      try { if (this.drawPolyline) this.map.Overlays.remove(this.drawPolyline); } catch (e) { }\n      try { if (this.drawPolygon) this.map.Overlays.remove(this.drawPolygon); } catch (e) { }\n      this.drawPolyline = null;\n      this.drawPolygon = null;\n      this.updateSnapPoints();\n      try { document.getElementById('map').style.cursor = 'default'; } catch (e) { }\n    },\n\n\n    applyFilters() {\n      console.log(this.filters);\n      this.showFilters = false;\n      const {\n        roadWidth, areaMin, areaMax, areaMinRai, areaMaxRai, priceMin, totalPriceMin, totalPriceMax, priceMax, frontMin, frontMax,\n      } = this.filters;\n\n      //  -> null / \n      const parseNum = (v) =>\n        (v === \"\" || v == null ? null : Number(String(v).replace(/,/g, \"\")));\n\n      // map  roadWidth  dropdown -> \n      const roadMinMax = (rw) => {\n        if (!rw) return [null, null];\n        if (rw === \"lt6\") return [null, 6];\n        if (rw === \"6-9.99\") return [6, 9.99];\n        if (rw === \"ge10\") return [10, null];\n        if (rw === \"ge18\") return [18, null];\n        if (rw === \"ge30\") return [30, null];\n        return [null, null];\n      };\n\n      const toSqw = (sqw, rai) => {\n        const s = parseNum(sqw);\n        const r = parseNum(rai);\n        return (s == null && r == null) ? null : (s || 0) + (r || 0) * 400;\n      };\n\n      const [rwMin, rwMax] = roadMinMax(roadWidth);\n      const aMin = toSqw(areaMin, areaMinRai);\n      const aMax = toSqw(areaMax, areaMaxRai);\n      const pMin = parseNum(priceMin),\n        pMax = parseNum(priceMax);\n      const tpMin = parseNum(totalPriceMin),\n        tpMax = parseNum(totalPriceMax);\n      const fMin = parseNum(frontMin),\n        fMax = parseNum(frontMax);\n\n      const getArea = (it) =>\n        it.area != null ? +it.area : it.size ? +it.size : 0;\n      const getPriceSqw = (it) =>\n        it.pricePerSqw != null ? +it.pricePerSqw : it.price ? +it.price : 0;\n      const getTotalPrice = (it) => it.totalPrice ?? (getArea(it) * getPriceSqw(it));\n      const getFrontage = (it) =>\n        it.frontage != null ? +it.frontage : it.width ? +it.width : 0;\n      const getRoadWidth = (it) =>\n        it.roadWidth != null ? +it.roadWidth : it.road ? +it.road : null;\n\n      if (Array.isArray(this.savedLands)) {\n        this.filteredLands = this.savedLands.filter((item) => {\n          const area = getArea(item);\n          const priceSqw = getPriceSqw(item);\n          const total = +getTotalPrice(item);\n          const frontage = getFrontage(item);\n          const rwidth = getRoadWidth(item);\n\n          const inArea =\n            (aMin == null || area >= aMin) && (aMax == null || area <= aMax);\n          const inPrice =\n            (pMin == null || priceSqw >= pMin) &&\n            (pMax == null || priceSqw <= pMax);\n          const inTotal = (tpMin == null || total >= tpMin) && (tpMax == null || total <= tpMax);\n\n          const inFront =\n            (fMin == null || frontage >= fMin) &&\n            (fMax == null || frontage <= fMax);\n          const inRoad =\n            (rwMin == null || (rwidth != null && rwidth >= rwMin)) &&\n            (rwMax == null || (rwidth != null && rwidth <= rwMax));\n\n          return inArea && inPrice && inTotal && inFront && inRoad;\n        });\n      } else {\n        this.filteredLands = [];\n      }\n\n      this.addMarkersToMap(); // \n      this.renderLandsOnMap();\n      this.applyKmlFiltersUsingUI();\n    },\n\n    applyKmlFiltersUsingUI() {\n      if (!this.map || !Array.isArray(this.kmlFeatures) || !this.kmlFeatures.length) return;\n\n      //  applyFilters()\n      const toNum = (v) => (v === \"\" || v == null ? null : Number(String(v).replace(/,/g, \"\")));\n\n      const toSqw = (sqw, rai) => {\n        const s = toNum(sqw);\n        const r = toNum(rai);\n        return (s == null && r == null) ? null : (s || 0) + (r || 0) * 400;\n      };\n      const aMin = toSqw(this.filters.areaMin, this.filters.areaMinRai);\n      const aMax = toSqw(this.filters.areaMax, this.filters.areaMaxRai);\n      const pMin = toNum(this.filters.priceMin);\n      const pMax = toNum(this.filters.priceMax);\n      const tpMin = toNum(this.filters.totalPriceMin);\n      const tpMax = toNum(this.filters.totalPriceMax);\n      const fMin = toNum(this.filters.frontMin);\n      const fMax = toNum(this.filters.frontMax);\n\n      const roadSel = (this.filters.roadWidth || this.filters.landType || \"\").trim();\n      const roadRange = (sel) => {\n        switch (sel) {\n          case \"lt6\": return [null, 6];\n          case \"6-9.99\": return [6, 9.99];\n          case \"10-11.99\": return [10, 11.99];\n          case \"12-17.99\": return [12, 17.99];\n          case \"18-29.99\": return [18, 29.99];\n          case \"ge30\": return [30, null];\n          default: return [null, null];\n        }\n      };\n      const [rwMin, rwMax] = roadRange(roadSel);\n\n      // \n      const inRange = (val, min, max) =>\n        (min == null || (val != null && val >= min)) &&\n        (max == null || (val != null && val <= max));\n\n      // loop  overlay  KML\n      this.kmlFeatures.forEach(({ overlay, props }) => {\n        const total =\n          props?.totalPrice != null\n            ? Number(props.totalPrice)\n            : (props?.area != null && props?.pricePerSqw != null\n              ? Number(props.area) * Number(props.pricePerSqw)\n              : null);\n        const ok =\n          inRange(props?.area, aMin, aMax) &&\n          inRange(props?.pricePerSqw, pMin, pMax) &&\n          inRange(total, tpMin, tpMax) &&\n          inRange(props?.frontage, fMin, fMax) &&\n          inRange(props?.roadWidth, rwMin, rwMax);\n\n        // toggle / \n        try {\n          if (ok) {\n            //   add \n            if (!overlay._onMap) {\n              this.map.Overlays.add(overlay);\n              overlay._onMap = true;\n            }\n          } else {\n            console.log(\"Removing\", overlay.__kml?.props?.name, overlay);\n            this.map.Overlays.remove(overlay);\n            overlay._onMap = false;\n          }\n        } catch (e) {\n          // \n        }\n      });\n    },\n\n\n    resetFilters() {\n      this.filters = {\n        landType: \"\", priceMin: \"\", priceMax: \"\",\n        areaMin: \"\", areaMax: \"\", totalPriceMin: \"\", totalPriceMax: \"\", roadWidth: \"\",\n        frontMin: \"\", frontMax: \"\",\n      };\n      this.filteredLands = [];\n      this.addMarkersToMap();\n      this.renderLandsOnMap();\n    },\n\n    getClickLocation(ev) {\n      //  lon/lat \n      if (ev && typeof ev.lon === 'number' && typeof ev.lat === 'number') {\n        return { lon: ev.lon, lat: ev.lat };\n      }\n      //  (x,y) \n      if (ev && typeof ev.x === 'number' && typeof ev.y === 'number' && this.map?.location) {\n        try {\n          const loc = this.map.location(ev);\n          if (loc && typeof loc.lon === 'number' && typeof loc.lat === 'number') return loc;\n        } catch (e) { console.debug('getClickLocation: map.location(point) failed', e); }\n      }\n      // fallback:  pointer mode\n      try {\n        const loc = this.map.location(window.longdo?.LocationMode?.Pointer);\n        if (loc && typeof loc.lon === 'number' && typeof loc.lat === 'number') return loc;\n      } catch (e) { console.debug('getClickLocation: Pointer mode failed', e); }\n      return null;\n    },\n\n\n    async saveLandData() {\n      if (!(this.landData.owner?.trim() || this.landData.agent?.trim())) {\n        alert(\"   \");\n        return;\n      }\n      const inputHasRNW =\n        (this.raiModel != null && String(this.raiModel).trim() !== '') ||\n        (this.nganModel != null && String(this.nganModel).trim() !== '') ||\n        (this.wahModel != null && String(this.wahModel).trim() !== '');\n\n      let sizeSqw = this.unformatDecimal(this.landData.size);\n      if (inputHasRNW) {\n        sizeSqw = this.sizeFromRaiNganWah(this.raiModel, this.nganModel, this.wahModel);\n      }\n\n\n      const geometry = this.drawPoints.length >= 3\n        ? { type: \"Polygon\", coordinates: this.drawPoints.map(p => [p.lon, p.lat]) }\n        : null;\n\n      const markerLoc = geometry\n        ? { lon: this.drawPoints[0].lon, lat: this.drawPoints[0].lat }\n        : { lon: this.currentLocation.lon, lat: this.currentLocation.lat };\n\n      const payload = {\n        size: sizeSqw,\n        frontage: this.unformatDecimal(this.landData.width),\n        roadWidth: this.unformatDecimal(this.landData.road),\n        pricePerSqw: this.unformatDecimal(this.landData.price),\n        totalPrice: this.unformatDecimal(this.landData.totalPrice),\n        landFrame: (this.landData.landFrame || \"\").trim(),\n        deedInformation: (this.landData.deedInformation || \"\").trim(),\n        owner: (this.landData.owner || \"\").trim(),\n        agent: (this.landData.agent || \"\").trim(),\n        phone: (this.landData.phone || \"\").trim(),\n        lineId: (this.landData.lineId || \"\").trim(),\n        location: markerLoc,\n        geometry,\n\n        id: this.editingLandId || undefined,\n      };\n\n      try {\n        if (!this.currentUserId) { alert(\" ( anonymous )\"); return; }\n\n\n        await saveLand(this.currentUserId, payload);\n        this.landData = {\n          size: \"\",\n          width: \"\",\n          owner: \"\",\n          agent: \"\",\n          phone: \"\",\n          lineId: \"\",\n          price: \"\",\n          totalPrice: \"\",\n          road: \"\",\n          landFrame: \"\",\n          deedInformation: \"\",\n        };\n        this.editingLandId = null;\n        this.clearDrawing();\n        alert(\"\");\n      } catch (e) {\n        console.error(\"saveLand failed:\", e);\n        alert(\": \" + (e?.message || e));\n      }\n    },\n\n    toggleSearch() {\n      this.showSearch = !this.showSearch;\n      this.showFilters = false;\n      this.showLayers = false;\n      this.showChat = false;\n    },\n\n    toggleFilters() {\n      this.showFilters = !this.showFilters;\n      this.showSearch = false;\n      this.showLayers = false;\n      this.showChat = false;\n    },\n\n    toggleLayers() {\n      this.showLayers = !this.showLayers;\n      this.showSearch = false;\n      this.showFilters = false;\n      this.showChat = false;\n    },\n\n    viewMyProperty() {\n      console.log(\"View my property\");\n      // Show only user's markers\n      this.showSearch = false;\n      this.showFilters = false;\n      this.showLayers = true;\n    },\n\n    exploreArea() {\n      console.log(\"Explore area\");\n    },\n\n    centerTo(lon, lat, zoom = 17) {\n      if (!this.map) return;\n\n      try {\n        this.map.location({ lon, lat, includePolygon: false });\n        if (typeof this.map.zoom === \"function\") this.map.zoom(zoom);\n      } catch (e) {\n        console.debug(\"[SEARCH] centerTo error:\", e);\n      }\n\n      /* try {\n        if (this.myMarker) this.map.Overlays.remove(this.myMarker);\n        this.myMarker = new window.longdo.Marker({ lon, lat });\n        this.map.Overlays.add(this.myMarker);\n      } catch (e) {\n        console.debug(\"[SEARCH] marker add failed:\", e);\n      } */\n    },\n\n    locateByGPS() {\n      if (!(\"geolocation\" in navigator)) {\n        alert(\" (Geolocation)\");\n        return;\n      }\n      this.locating = true;\n      this.geolocError = null;\n\n      navigator.geolocation.getCurrentPosition(\n        (pos) => {\n          const { latitude, longitude } = pos.coords;\n          this.currentLocation = { lat: latitude, lon: longitude };\n          this.centerTo(longitude, latitude, 18); // NOTE: centerTo(lon, lat)\n          this.showSearch = false;\n          this.locating = false;\n        },\n        (err) => {\n          this.locating = false;\n          this.geolocError = err?.message || \"\";\n          alert(\": \" + this.geolocError);\n        },\n        { enableHighAccuracy: true, maximumAge: 20000, timeout: 10000 }\n      );\n    },\n\n    async ensureLongdoServices() {\n      if (window.longdo?.Services?.search) return true;\n\n      //  services  ( main.js)   \n      for (let i = 0; i < 15; i++) {\n        if (window.longdo?.Services?.search) return true;\n        await new Promise((r) => setTimeout(r, 200));\n      }\n\n      //   inject script  URL \n      const urls = [\n        \"https://api.longdo.com/services\",\n        \"https://api.longdo.com/services/\",\n      ];\n\n      for (const src of urls) {\n        try {\n          await new Promise((resolve, reject) => {\n            const s = document.createElement(\"script\");\n            s.src = src;\n            s.async = true;\n            s.onload = resolve;\n            s.onerror = () => reject(new Error(\"services load failed: \" + src));\n            document.head.appendChild(s);\n          });\n          if (window.longdo?.Services?.search) return true;\n        } catch (e) {\n          console.debug(\"[SEARCH] inject services failed:\", src, e);\n        }\n      }\n\n      return !!window.longdo?.Services?.search;\n    },\n\n    async searchPlaceLongdo(q) {\n      // 1)  Services \n      if (await this.ensureLongdoServices()) {\n        return new Promise((resolve) => {\n          try {\n            window.longdo.Services.search(\n              { keyword: q, limit: 5, language: \"th\" },\n              (results) => {\n                if (Array.isArray(results) && results.length > 0) {\n                  const best = results[0];\n                  if (best?.lon != null && best?.lat != null) {\n                    this.centerTo(best.lon, best.lat, 17);\n                    this.showSearch = false;\n                    resolve(true);\n                    return;\n                  }\n                }\n                alert(\" Longdo : \" + q);\n                resolve(false);\n              },\n              (err) => {\n                console.debug(\"[SEARCH] Services.search error:\", err);\n                resolve(false); //  REST \n              }\n            );\n          } catch (e) {\n            console.debug(\"[SEARCH] Services.search exception:\", e);\n            //  REST \n          }\n        });\n      }\n\n      // 2) Fallback  REST ( key  main.js)\n      try {\n        const KEY = window.__LONGDO_KEY; //   key  main.js\n        const url =\n          `https://search.longdo.com/mapsearch/json/search` +\n          `?keyword=${encodeURIComponent(q)}` +\n          `&key=${encodeURIComponent(KEY)}` +\n          `&limit=5&language=th`;\n\n        const r = await fetch(url);\n        const text = await r.text(); //  error HTML\n        const data = JSON.parse(text); //  JSON  throw  catch\n        const items = Array.isArray(data?.data) ? data.data : [];\n        if (items.length && items[0]?.lon != null && items[0]?.lat != null) {\n          this.centerTo(items[0].lon, items[0].lat, 17);\n          this.showSearch = false;\n          return true;\n        }\n        alert(\" Longdo : \" + q);\n        return false;\n      } catch (e) {\n        console.debug(\"[SEARCH] REST search error:\", e);\n        alert(\" (REST)\");\n        return false;\n      }\n    },\n\n    performSearch() {\n      const q = (this.searchQuery || \"\").trim();\n\n      // 1)    GPS\n      if (!q) {\n        this.locateByGPS();\n        return;\n      }\n\n      // 2)  \"lat, lon\"\n      const m = q.match(\n        /^\\s*([+-]?\\d+(?:\\.\\d+)?)\\s*,\\s*([+-]?\\d+(?:\\.\\d+)?)\\s*$/\n      );\n      if (m) {\n        const lat = parseFloat(m[1]);\n        const lon = parseFloat(m[2]);\n        if (\n          isFinite(lat) &&\n          isFinite(lon) &&\n          Math.abs(lat) <= 90 &&\n          Math.abs(lon) <= 180\n        ) {\n          this.centerTo(lon, lat, 18);\n          this.showSearch = false;\n          return;\n        }\n      }\n\n      // 3)    Longdo (Services  REST)\n      this.searchPlaceLongdo(q);\n    },\n\n    // --- Snapping helpers ---\n    updateSnapPoints() {\n      const pts = [];\n      // collect all vertices from saved lands\n      (this.savedLands || []).forEach((land) => {\n        if (land?.geometry?.type === \"Polygon\" && Array.isArray(land.geometry.coordinates)) {\n          land.geometry.coordinates.forEach(([lon, lat]) => pts.push({ lon, lat }));\n        }\n      });\n      // include current drawing points\n      if (Array.isArray(this.drawPoints)) pts.push(...this.drawPoints);\n      this.snapPoints = pts;\n    },\n    getSnappedPoint(p) {\n      if (!this.snapEnabled || !Array.isArray(this.snapPoints) || !this.snapPoints.length) return p;\n      // tolerance in meters depends on zoom\n      const zoom = (typeof this.map?.zoom === \"function\") ? this.map.zoom() : 16;\n      const tol = zoom >= 18 ? 8 : zoom >= 16 ? 15 : 30;\n      const dist = window.longdo?.Util?.distance;\n      if (!dist) return p;\n      let best = null, bestD = Infinity;\n      for (const q of this.snapPoints) {\n        const d = dist([p, q]);\n        if (d < bestD) { bestD = d; best = q; }\n      }\n      return (best && bestD <= tol) ? best : p;\n    },\n\n    // --- Select a land and populate the form for editing\n    selectLand(land) {\n      if (!land) return;\n      this.editingLandId = land.id || null;\n\n      //  size (.)  RNW \n      const { rai, ngan, wah } = this.rnwFromSize(this.landData.size);\n      this.raiModel = (rai === \"\" ? \"\" : String(rai));\n      this.nganModel = (ngan === \"\" ? \"\" : String(ngan));\n      this.wahModel = (wah === \"\" ? \"\" : (this.fmt2 ? this.fmt2(wah) : wah.toFixed(2)));\n\n\n      // Map model -> form model\n      this.landData = {\n        size: land.size ?? land.area ?? \"\",\n        width: land.frontage ?? land.width ?? \"\",\n        road: land.roadWidth ?? land.road ?? \"\",\n        price: land.pricePerSqw != null ? this.formatMoney(land.pricePerSqw) : \"\",\n        totalPrice: land.totalPrice ?? \"\",\n        landFrame: land.landFrame ?? \"\",\n        deedInformation: land.deedInformation ?? \"\",\n        owner: land.owner ?? \"\",\n        agent: land.agent ?? \"\",\n        phone: land.phone ?? \"\",\n        lineId: land.lineId ?? \"\",\n      };\n\n      // Draw selected geometry for visual\n      try {\n        if (land.geometry?.type === \"Polygon\" && Array.isArray(land.geometry.coordinates)) {\n          const pts = land.geometry.coordinates.map(([lon, lat]) => ({ lon, lat }));\n          this.clearDrawing();\n          this.drawPoints = pts;\n          if (this.drawPoints.length >= 3) {\n            try { if (this.drawPolyline) this.map.Overlays.remove(this.drawPolyline); } catch (e) { }\n            try { if (this.drawPolygon) this.map.Overlays.remove(this.drawPolygon); } catch (e) { }\n            this.drawPolygon = new window.longdo.Polygon(this.drawPoints, {\n              lineWidth: 2, lineColor: \"rgba(30,144,255,0.9)\", fillColor: \"rgba(30,144,255,0.25)\",\n            });\n            this.map.Overlays.add(this.drawPolygon);\n          }\n        }\n      } catch (e) { console.debug(\"selectLand draw error\", e); }\n    },\n\n    onLandOverlayClick(land) {\n      this.selectLand(land);\n    },\n\n  },\n  watch: {\n    availableLayers: {\n      handler(newVal) {\n        const markersLayer = newVal.find((l) => l.id === 1);\n        if (markersLayer) {\n          this.toggleMarkersLayer();\n        }\n        console.log(\"Start pop-up\");\n      },\n      deep: true,\n    },\n\n    'landData.size'() { this.syncFromSize(); if (this.landData.price) this.syncPriceFromPerSqw(); },\n    raiModel() { this.onRNWInput(); },\n    nganModel() { this.onRNWInput(); },\n    wahModel() { this.onRNWInput(); },\n\n    'landData.owner'(val) {\n      if (val && val.trim() !== '') this.landData.agent = '';\n    },\n    'landData.agent'(val) {\n      if (val && val.trim() !== '') this.landData.owner = '';\n    },\n\n    //  scroll  popup \n    showDisclaimer(val) {\n      document.body.style.overflow = val ? \"hidden\" : \"\";\n    },\n  },\n\n};\n/* eslint-enable no-empty */\n","import { render } from \"./App.vue?vue&type=template&id=4cde1a42\"\nimport script from \"./app-script.js?vue&type=script&lang=js&external\"\nexport * from \"./app-script.js?vue&type=script&lang=js&external\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4cde1a42&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// src/main.js\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport LongdoMap from 'longdo-map-vue'\nimport './firebase'\n\nconst app = createApp(App)\n\napp.component('RouterView', { name: 'RouterViewStub', render() { return null } })\n\nwindow.__LONGDO_KEY = '3013d29eca5230ad752a9dc3c9b4bad1';\n\napp.use(LongdoMap, {\n    load: {\n        apiKey: window.__LONGDO_KEY, //  key \n        language: 'th',\n        defer: false,\n        services: ['search'],\n    },\n})\n\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksqw\"] = self[\"webpackChunksqw\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(539); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","style","ref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_LoginBar","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","$event","_ctx","addBangkokOverlay","addBangkokOverlayDaft","clearBangkokOverlay","type","min","max","step","value","kmlOpacity","onInput","setBangkokOverlayOpacity","target","_hoisted_7","_toDisplayString","toFixed","_hoisted_8","dolEnabled","onChange","args","onToggleDol","_hoisted_9","_hoisted_10","opacity","onChangeDolOpacity","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","dashboard","plots","toLocaleString","_hoisted_15","_hoisted_16","fmt2","areaRai","_hoisted_17","_hoisted_18","_hoisted_19","fmt","totalValueMillion","_hoisted_20","startDrawing","finishDrawing","clearDrawing","_hoisted_21","isFormOpen","_hoisted_22","_hoisted_23","_Transition","name","_hoisted_24","_hoisted_25","inputmode","landData","size","sanitizeDecimal","syncFromSize","price","syncPriceFromPerSqw","onBlur","formatLandSize","placeholder","_hoisted_26","_hoisted_27","raiModel","onRNWInput","normalizeRNW","nganModel","wahModel","_hoisted_28","_hoisted_29","formatNumber","width","unformatNumber","_hoisted_31","road","_hoisted_33","formatPrice","totalPrice","syncPerSqwFromTotal","_hoisted_34","owner","disabled","agent","trim","_hoisted_36","_hoisted_38","_hoisted_39","phone","_hoisted_40","lineId","_hoisted_41","landFrame","_hoisted_42","deedInformation","saveLandData","isListOpen","_hoisted_43","_hoisted_44","_hoisted_45","savedLands","length","_hoisted_46","_Fragment","_renderList","land","index","key","focusLand","_hoisted_47","_hoisted_48","deleteLandItem","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","toggleSearch","title","viewBox","fill","stroke","cx","cy","r","d","toggleFilters","points","_normalizeClass","hasNewMessage","toggleP2P","unreadCount","_hoisted_54","_hoisted_55","_hoisted_56","showSearch","searchQuery","performSearch","locateByGPS","_hoisted_57","_hoisted_58","showFilters","_hoisted_59","filters","roadWidth","_hoisted_60","_hoisted_61","_hoisted_62","areaMin","areaMax","_hoisted_65","_hoisted_66","areaMinRai","areaMaxRai","_hoisted_69","_hoisted_70","priceMin","priceMax","_hoisted_73","_hoisted_74","totalPriceMin","totalPriceMax","_hoisted_77","_hoisted_78","frontMin","frontMax","_hoisted_81","applyFilters","resetFilters","_hoisted_82","_hoisted_83","showLayers","availableLayers","layer","_hoisted_84","visible","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","userProfile","currentUserId","slice","showChat","_hoisted_90","tempUserName","onKeyup","_withKeys","setUserProfile","chatMode","_hoisted_91","_hoisted_92","_hoisted_93","onlineUsers","_hoisted_94","_hoisted_95","u","uid","selectUserToChat","_hoisted_97","_hoisted_98","_hoisted_99","backToRooms","_hoisted_100","selectedUser","_hoisted_101","chatMessages","msg","fromUid","_hoisted_102","_hoisted_103","fromName","_hoisted_104","formatTime","createdAt","_hoisted_105","text","_hoisted_106","showTypingIndicator","_hoisted_107","_hoisted_108","chatInput","sendMessage","handleTyping","_hoisted_110","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","app","initializeApp","analytics","getAnalytics","_","auth","getAuth","db","getDatabase","onAuthChanged","cb","onAuthStateChanged","async","loginWithGoogle","provider","GoogleAuthProvider","cred","signInWithPopup","user","loginWithEmail","email","password","signInWithEmailAndPassword","registerWithEmail","displayName","createUserWithEmailAndPassword","updateProfile","logout","currentUser","clearOnlineStatus","signOut","updateOnlineStatus","payload","sref","update","online","lastSeen","serverTimestamp","onDisconnect","subscribeOnlineUsers","pRef","onValue","snap","obj","val","now","Date","STALE_MS","list","Object","values","filter","last","fresh","sendChatMessage","toUid","Error","a","b","myPath","theirPath","String","readBy","push","subscribeChat","myUid","otherUid","msgsRef","data","entries","map","v","sort","markMessagesAsRead","base","msgsSnap","get","msgs","updates","keys","forEach","subscribeP2PChatRooms","roomId","otherName","lastText","lastAt","saveLand","ownerUid","updatedAt","newRef","newPayload","deleteLand","landId","remove","subscribeLandsAll","landsRef","error","unsub","onMounted","display","split","onBeforeUnmount","shortUid","computed","doLoginGoogle","e","tidy","doLoginEmail","doRegister","doLogout","doSignOut","message","replace","__exports__","components","LoginBar","_isSyncingSize","_isSyncingPrice","_lastPriceSource","editingLandId","snapPoints","mapMarkers","showMarkerInfo","selectedMarker","markerInfoPosition","x","y","selectedMapType","activeTab","snapEnabled","wmsDol","leafletWmsDol","snapSettings","red","green","blue","filteredLands","currentLocation","lat","lon","currentZoom","landType","chatRooms","joinedAt","lastSeenMessageId","currentChatRoom","typingTimer","chatUnsubscribe","authUnsubscribe","myMarker","locating","geolocError","onlineStatusInterval","chatRoomsUnsubscribe","p2pChatUnsubscribe","onlineUsersUnsubscribe","drawMode","drawPoints","drawPolyline","drawPolygon","landOverlays","landsUnsub","showDisclaimer","kmlState","kmlOverlays","kmlFeatures","bkkRect","mounted","this","initMap","resetP2PState","ack","localStorage","getItem","switched","updateUserOnlineStatus","initP2PFacade","Array","isArray","renderLandsOnMap","beforeUnmount","clearInterval","clearTimeout","visibleMarkers","q","toLowerCase","toNum","Number","areaFromDetail","detail","m","match","toSqw","sqw","rai","s","aMin","aMax","pMin","pMax","tpMin","allPriceMin","tpMax","allPriceMax","fMin","fMax","roadSel","roadRange","sel","rwMin","rwMax","markers","textOK","includes","area","areaOK","ppw","pricePerWah","priceOK","total","totalOK","fg","frontage","frontOK","roadOK","arr","owners","Set","it","Boolean","areaSqw","reduce","isFinite","totalValue","tot","p","pricePerSqw","sz","methods","clearSelectedLand","formatMoney","n","unformatDecimal","undefined","minimumFractionDigits","maximumFractionDigits","onPriceTyping","el","clean","num","isNaN","$nextTick","pos","setSelectionRange","parseFloat","sizeSqw","perSqw","sizeFromRaiNganWah","ngan","wah","R","parseInt","N","W","w","rnwFromSize","Math","floor","rem1","isInteger","makeGroundKmlString","west","south","east","north","aa","round","toString","padStart","color","Overlays","tl","br","window","longdo","Rectangle","texture","textureAlpha","lineWidth","weight","OverlayWeight","Top","add","loadBangkokOverlay","clearKml","kml","result","kmlToLongdoMap","overlays","bound","acceptDisclaimer","setItem","closeDisclaimerOnce","initDolWms_Longdo","Event","bind","lyr","Layer","LayerType","WMS","url","format","srs","console","log","Layers","debug","onChangeBaseMap","toUpperCase","resolve","B","dict","NORMAL","HYBRID","SATELLITE","GRAY","setBase","applyDolVisibility","confirm","alert","o","lands","markerLoc","geometry","coordinates","pts","i","f","location","Marker","join","visibleRange","icon","height","offset","__land","poly","Polygon","lineColor","fillColor","Map","document","getElementById","language","includePolygon","zoom","addMarkersToMap","ev","getClickLocation","redrawDrawing","dot","Circle","setTimeout","selectLand","c","getLandCenter","centerTo","clearAllMarkers","markersLayer","find","l","markerData","marker","draggable","popup","html","overlay","onLandOverlayClick","markerItem","item","onMarkerClick","toggleMarkersLayer","addNewMarker","newMarker","centerOnMarker","str","firstDot","indexOf","startsWith","endsWith","test","timestamp","date","diffInMinutes","toLocaleDateString","month","day","hour","minute","scrollToBottom","$refs","chatBody","scrollTop","scrollHeight","setChatMode","users","rooms","sum","setInterval","mode","startRoomWith","selectChatRoom","room","other","messages","centerBangkok","reloadAPI","loadKmlFromUrl","res","fetch","cache","kmlText","geometryOptions","markerOptions","features","applyKmlFiltersUsingUI","updateSnapPoints","ov","importKmlFile","evt","file","files","Polyline","cursor","parseNum","roadMinMax","rw","getArea","getPriceSqw","getTotalPrice","getFrontage","getRoadWidth","priceSqw","rwidth","inArea","inPrice","inTotal","inFront","inRoad","inRange","props","ok","_onMap","__kml","loc","LocationMode","Pointer","inputHasRNW","toggleLayers","viewMyProperty","exploreArea","navigator","geolocation","getCurrentPosition","latitude","longitude","coords","err","enableHighAccuracy","maximumAge","timeout","ensureLongdoServices","Services","search","Promise","urls","src","reject","createElement","onload","onerror","head","appendChild","searchPlaceLongdo","keyword","limit","results","best","KEY","__LONGDO_KEY","encodeURIComponent","JSON","parse","items","abs","getSnappedPoint","tol","dist","Util","distance","bestD","Infinity","watch","handler","newVal","deep","body","overflow","render","createApp","App","component","use","LongdoMap","load","defer","services","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","splice","getter","__esModule","definition","defineProperty","enumerable","g","globalThis","Function","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}